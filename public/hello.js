/// <reference types="emscripten" />

var Module = {
  vram: null,
  width: 320,
  height: 528,
  // print: function (text) {
  //   alert("stdout: " + text);
  // },
  // printErr: function (text) {
  //   alert("stderr: " + text);
  // },
  Debug_printf: function (x, y, message) {
    console.log(`[x: ${x}, y: ${y}] "${message}"`);
  },
  calcInit: function () {
    console.log("calcInit");
  },
  preInit: function () {
    console.debug("-- EMS: preInit");
    // Initialize vram, width, and height
    Module.vram = new Uint16Array(Module.width * Module.height);
  },
  postInit: function () {
    // Additional post-init code if needed
  },
  onRuntimeInitialized: function () {
    // Additional initialization code after runtime is initialized
  },
  getVRAM: function () {
    return Module.vram;
  },
};

var Module = (() => {
  var _scriptDir = import.meta.url;
  
  return (
function(moduleArg = {}) {

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});var Module={vram:null,width:320,height:528,Debug_printf:function(x,y,message){console.log(`[x: ${x}, y: ${y}] "${message}"`)},calcInit:function(){console.log("calcInit")},preInit:function(){console.debug("-- EMS: preInit");Module.vram=new Uint16Array(Module.width*Module.height)},postInit:function(){},onRuntimeInitialized:function(){},getVRAM:function(){return Module.vram}};var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}}else{}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["quit"])quit_=Module["quit"];var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];var WebAssembly={Memory:function(opts){this.buffer=new ArrayBuffer(opts["initial"]*65536)},Module:function(binary){},Instance:function(module,info){this.exports=(
// EMSCRIPTEN_START_ASM
function instantiate(ja){function c(d){d.set=function(a,b){this[a]=b};d.get=function(a){return this[a]};return d}var e;var f=new ArrayBuffer(16);var g=new Int32Array(f);var h=new Float32Array(f);var i=new Float64Array(f);function j(k){return g[k]}function l(k,m){g[k]=m}function n(){return i[0]}function o(m){i[0]=m}function p(){throw new Error("abort")}function ha(ia){var q=ia.a;var r=q.a;var s=r.buffer;var t=new Int8Array(s);var u=new Int16Array(s);var v=new Int32Array(s);var w=new Uint8Array(s);var x=new Uint16Array(s);var y=new Uint32Array(s);var z=new Float32Array(s);var A=new Float64Array(s);var B=Math.imul;var C=Math.fround;var D=Math.abs;var E=Math.clz32;var F=Math.min;var G=Math.max;var H=Math.floor;var I=Math.ceil;var J=Math.trunc;var K=Math.sqrt;var L=q.b;var M=q.c;var N=q.d;var O=q.e;var P=q.f;var Q=q.g;var R=q.h;var S=q.i;var T=q.j;var U=q.k;var V=q.l;var W=q.m;var X=q.n;var Y=q.o;var Z=q.p;var _=q.q;var $=q.r;var aa=q.s;var ba=q.t;var ca=q.u;var da=74224;var ea=0;
// EMSCRIPTEN_START_FUNCS
function xa(a){a=a|0;var b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0;l=da-16|0;da=l;a:{b:{c:{d:{e:{f:{g:{h:{i:{j:{k:{l:{m:{n:{if(a>>>0<=244){g=v[1914];h=a>>>0<11?16:a+11&-8;c=h>>>3|0;b=g>>>c|0;if(b&3){c=c+((b^-1)&1)|0;a=c<<3;b=a+7696|0;d=v[a+7704>>2];a=v[d+8>>2];o:{if((b|0)==(a|0)){v[1914]=Fb(c)&g;break o}v[a+12>>2]=b;v[b+8>>2]=a}a=d+8|0;b=c<<3;v[d+4>>2]=b|3;b=b+d|0;v[b+4>>2]=v[b+4>>2]|1;break a}k=v[1916];if(k>>>0>=h>>>0){break n}if(b){a=2<<c;d=Cb((0-a|a)&b<<c);a=d<<3;b=a+7696|0;e=v[a+7704>>2];a=v[e+8>>2];p:{if((b|0)==(a|0)){g=Fb(d)&g;v[1914]=g;break p}v[a+12>>2]=b;v[b+8>>2]=a}v[e+4>>2]=h|3;c=e+h|0;a=d<<3;d=a-h|0;v[c+4>>2]=d|1;v[a+e>>2]=d;if(k){b=(k&-8)+7696|0;f=v[1919];a=1<<(k>>>3);q:{if(!(a&g)){v[1914]=a|g;a=b;break q}a=v[b+8>>2]}v[b+8>>2]=f;v[a+12>>2]=f;v[f+12>>2]=b;v[f+8>>2]=a}a=e+8|0;v[1919]=c;v[1916]=d;break a}j=v[1915];if(!j){break n}c=v[(Cb(j)<<2)+7960>>2];f=(v[c+4>>2]&-8)-h|0;b=c;while(1){r:{a=v[b+16>>2];if(!a){a=v[b+20>>2];if(!a){break r}}b=(v[a+4>>2]&-8)-h|0;d=b>>>0<f>>>0;f=d?b:f;c=d?a:c;b=a;continue}break}i=v[c+24>>2];d=v[c+12>>2];if((d|0)!=(c|0)){a=v[c+8>>2];v[a+12>>2]=d;v[d+8>>2]=a;break b}b=c+20|0;a=v[b>>2];if(!a){a=v[c+16>>2];if(!a){break m}b=c+16|0}while(1){e=b;d=a;b=a+20|0;a=v[b>>2];if(a){continue}b=d+16|0;a=v[d+16>>2];if(a){continue}break}v[e>>2]=0;break b}h=-1;if(a>>>0>4294967231){break n}a=a+11|0;h=a&-8;j=v[1915];if(!j){break n}f=0-h|0;g=0;s:{if(h>>>0<256){break s}g=31;if(h>>>0>16777215){break s}a=E(a>>>8|0);g=((h>>>38-a&1)-(a<<1)|0)+62|0}b=v[(g<<2)+7960>>2];t:{u:{v:{if(!b){a=0;break v}a=0;c=h<<((g|0)!=31?25-(g>>>1|0)|0:0);while(1){w:{e=(v[b+4>>2]&-8)-h|0;if(e>>>0>=f>>>0){break w}d=b;f=e;if(e){break w}f=0;a=b;break u}e=v[b+20>>2];b=v[((c>>>29&4)+b|0)+16>>2];a=e?(e|0)==(b|0)?a:e:a;c=c<<1;if(b){continue}break}}if(!(a|d)){d=0;a=2<<g;a=(0-a|a)&j;if(!a){break n}a=v[(Cb(a)<<2)+7960>>2]}if(!a){break t}}while(1){b=(v[a+4>>2]&-8)-h|0;c=b>>>0<f>>>0;f=c?b:f;d=c?a:d;b=v[a+16>>2];if(b){a=b}else{a=v[a+20>>2]}if(a){continue}break}}if(!d|v[1916]-h>>>0<=f>>>0){break n}g=v[d+24>>2];c=v[d+12>>2];if((d|0)!=(c|0)){a=v[d+8>>2];v[a+12>>2]=c;v[c+8>>2]=a;break c}b=d+20|0;a=v[b>>2];if(!a){a=v[d+16>>2];if(!a){break l}b=d+16|0}while(1){e=b;c=a;b=a+20|0;a=v[b>>2];if(a){continue}b=c+16|0;a=v[c+16>>2];if(a){continue}break}v[e>>2]=0;break c}a=v[1916];if(a>>>0>=h>>>0){d=v[1919];b=a-h|0;x:{if(b>>>0>=16){c=d+h|0;v[c+4>>2]=b|1;v[a+d>>2]=b;v[d+4>>2]=h|3;break x}v[d+4>>2]=a|3;a=a+d|0;v[a+4>>2]=v[a+4>>2]|1;c=0;b=0}v[1916]=b;v[1919]=c;a=d+8|0;break a}i=v[1917];if(i>>>0>h>>>0){b=i-h|0;v[1917]=b;c=v[1920];a=c+h|0;v[1920]=a;v[a+4>>2]=b|1;v[c+4>>2]=h|3;a=c+8|0;break a}a=0;j=h+47|0;if(v[2032]){c=v[2034]}else{v[2035]=-1;v[2036]=-1;v[2033]=4096;v[2034]=4096;v[2032]=l+12&-16^1431655768;v[2037]=0;v[2025]=0;c=4096}e=j+c|0;f=0-c|0;b=e&f;if(b>>>0<=h>>>0){break a}d=v[2024];if(d){c=v[2022];g=c+b|0;if(d>>>0<g>>>0|c>>>0>=g>>>0){break a}}y:{if(!(w[8100]&4)){z:{A:{B:{C:{d=v[1920];if(d){a=8104;while(1){c=v[a>>2];if(c>>>0<=d>>>0&d>>>0<c+v[a+4>>2]>>>0){break C}a=v[a+8>>2];if(a){continue}break}}c=na(0);if((c|0)==-1){break z}g=b;d=v[2033];a=d-1|0;if(a&c){g=(b-c|0)+(a+c&0-d)|0}if(g>>>0<=h>>>0){break z}d=v[2024];if(d){a=v[2022];f=a+g|0;if(d>>>0<f>>>0|a>>>0>=f>>>0){break z}}a=na(g);if((c|0)!=(a|0)){break B}break y}g=f&e-i;c=na(g);if((c|0)==(v[a>>2]+v[a+4>>2]|0)){break A}a=c}if((a|0)==-1){break z}if(h+48>>>0<=g>>>0){c=a;break y}c=v[2034];c=c+(j-g|0)&0-c;if((na(c)|0)==-1){break z}g=c+g|0;c=a;break y}if((c|0)!=-1){break y}}v[2025]=v[2025]|4}c=na(b);a=na(0);if((c|0)==-1|(a|0)==-1|a>>>0<=c>>>0){break i}g=a-c|0;if(g>>>0<=h+40>>>0){break i}}a=v[2022]+g|0;v[2022]=a;if(a>>>0>y[2023]){v[2023]=a}D:{e=v[1920];if(e){a=8104;while(1){d=v[a>>2];b=v[a+4>>2];if((d+b|0)==(c|0)){break D}a=v[a+8>>2];if(a){continue}break}break k}a=v[1918];if(!(a>>>0<=c>>>0?a:0)){v[1918]=c}a=0;v[2027]=g;v[2026]=c;v[1922]=-1;v[1923]=v[2032];v[2029]=0;while(1){d=a<<3;b=d+7696|0;v[d+7704>>2]=b;v[d+7708>>2]=b;a=a+1|0;if((a|0)!=32){continue}break}d=g-40|0;a=-8-c&7;b=d-a|0;v[1917]=b;a=a+c|0;v[1920]=a;v[a+4>>2]=b|1;v[(c+d|0)+4>>2]=40;v[1921]=v[2036];break j}if(v[a+12>>2]&8|(c>>>0<=e>>>0|d>>>0>e>>>0)){break k}v[a+4>>2]=b+g;a=-8-e&7;c=a+e|0;v[1920]=c;b=v[1917]+g|0;a=b-a|0;v[1917]=a;v[c+4>>2]=a|1;v[(b+e|0)+4>>2]=40;v[1921]=v[2036];break j}d=0;break b}c=0;break c}if(y[1918]>c>>>0){v[1918]=c}b=c+g|0;a=8104;E:{F:{G:{while(1){if((b|0)!=v[a>>2]){a=v[a+8>>2];if(a){continue}break G}break}if(!(w[a+12|0]&8)){break F}}a=8104;while(1){b=v[a>>2];if(b>>>0<=e>>>0){f=b+v[a+4>>2]|0;if(f>>>0>e>>>0){break E}}a=v[a+8>>2];continue}}v[a>>2]=c;v[a+4>>2]=v[a+4>>2]+g;j=(-8-c&7)+c|0;v[j+4>>2]=h|3;g=b+(-8-b&7)|0;i=h+j|0;a=g-i|0;if((e|0)==(g|0)){v[1920]=i;a=v[1917]+a|0;v[1917]=a;v[i+4>>2]=a|1;break d}if(v[1919]==(g|0)){v[1919]=i;a=v[1916]+a|0;v[1916]=a;v[i+4>>2]=a|1;v[a+i>>2]=a;break d}f=v[g+4>>2];if((f&3)!=1){break e}e=f&-8;if(f>>>0<=255){c=v[g+12>>2];b=v[g+8>>2];if((c|0)==(b|0)){v[1914]=v[1914]&Fb(f>>>3|0);break f}v[b+12>>2]=c;v[c+8>>2]=b;break f}h=v[g+24>>2];c=v[g+12>>2];if((g|0)!=(c|0)){b=v[g+8>>2];v[b+12>>2]=c;v[c+8>>2]=b;break g}b=g+20|0;f=v[b>>2];if(!f){f=v[g+16>>2];if(!f){break h}b=g+16|0}while(1){d=b;c=f;b=c+20|0;f=v[b>>2];if(f){continue}b=c+16|0;f=v[c+16>>2];if(f){continue}break}v[d>>2]=0;break g}d=g-40|0;a=-8-c&7;b=d-a|0;v[1917]=b;a=a+c|0;v[1920]=a;v[a+4>>2]=b|1;v[(c+d|0)+4>>2]=40;v[1921]=v[2036];a=(f+(39-f&7)|0)-47|0;d=a>>>0<e+16>>>0?e:a;v[d+4>>2]=27;a=v[2029];v[d+16>>2]=v[2028];v[d+20>>2]=a;a=v[2027];v[d+8>>2]=v[2026];v[d+12>>2]=a;v[2028]=d+8;v[2027]=g;v[2026]=c;v[2029]=0;a=d+24|0;while(1){v[a+4>>2]=7;b=a+8|0;a=a+4|0;if(b>>>0<f>>>0){continue}break}if((d|0)==(e|0)){break j}v[d+4>>2]=v[d+4>>2]&-2;f=d-e|0;v[e+4>>2]=f|1;v[d>>2]=f;if(f>>>0<=255){b=(f&-8)+7696|0;c=v[1914];a=1<<(f>>>3);H:{if(!(c&a)){v[1914]=a|c;a=b;break H}a=v[b+8>>2]}v[b+8>>2]=e;v[a+12>>2]=e;v[e+12>>2]=b;v[e+8>>2]=a;break j}a=31;if(f>>>0<=16777215){a=E(f>>>8|0);a=((f>>>38-a&1)-(a<<1)|0)+62|0}v[e+28>>2]=a;v[e+16>>2]=0;v[e+20>>2]=0;b=(a<<2)+7960|0;I:{d=v[1915];c=1<<a;J:{if(!(d&c)){v[1915]=c|d;v[b>>2]=e;break J}a=f<<((a|0)!=31?25-(a>>>1|0)|0:0);d=v[b>>2];while(1){b=d;if((f|0)==(v[b+4>>2]&-8)){break I}c=a>>>29|0;a=a<<1;c=(c&4)+b|0;d=v[c+16>>2];if(d){continue}break}v[c+16>>2]=e}v[e+24>>2]=b;v[e+12>>2]=e;v[e+8>>2]=e;break j}a=v[b+8>>2];v[a+12>>2]=e;v[b+8>>2]=e;v[e+24>>2]=0;v[e+12>>2]=b;v[e+8>>2]=a}a=v[1917];if(a>>>0<=h>>>0){break i}b=a-h|0;v[1917]=b;c=v[1920];a=c+h|0;v[1920]=a;v[a+4>>2]=b|1;v[c+4>>2]=h|3;a=c+8|0;break a}v[1866]=48;a=0;break a}c=0}if(!h){break f}d=v[g+28>>2];b=(d<<2)+7960|0;K:{if(v[b>>2]==(g|0)){v[b>>2]=c;if(c){break K}v[1915]=v[1915]&Fb(d);break f}v[h+(v[h+16>>2]==(g|0)?16:20)>>2]=c;if(!c){break f}}v[c+24>>2]=h;b=v[g+16>>2];if(b){v[c+16>>2]=b;v[b+24>>2]=c}b=v[g+20>>2];if(!b){break f}v[c+20>>2]=b;v[b+24>>2]=c}a=a+e|0;g=e+g|0;f=v[g+4>>2]}v[g+4>>2]=f&-2;v[i+4>>2]=a|1;v[a+i>>2]=a;if(a>>>0<=255){b=(a&-8)+7696|0;c=v[1914];a=1<<(a>>>3);L:{if(!(c&a)){v[1914]=a|c;a=b;break L}a=v[b+8>>2]}v[b+8>>2]=i;v[a+12>>2]=i;v[i+12>>2]=b;v[i+8>>2]=a;break d}f=31;if(a>>>0<=16777215){b=E(a>>>8|0);f=((a>>>38-b&1)-(b<<1)|0)+62|0}v[i+28>>2]=f;v[i+16>>2]=0;v[i+20>>2]=0;b=(f<<2)+7960|0;M:{d=v[1915];c=1<<f;N:{if(!(d&c)){v[1915]=c|d;v[b>>2]=i;break N}f=a<<((f|0)!=31?25-(f>>>1|0)|0:0);c=v[b>>2];while(1){b=c;if((v[c+4>>2]&-8)==(a|0)){break M}d=f>>>29|0;f=f<<1;d=(d&4)+c|0;c=v[d+16>>2];if(c){continue}break}v[d+16>>2]=i}v[i+24>>2]=b;v[i+12>>2]=i;v[i+8>>2]=i;break d}a=v[b+8>>2];v[a+12>>2]=i;v[b+8>>2]=i;v[i+24>>2]=0;v[i+12>>2]=b;v[i+8>>2]=a}a=j+8|0;break a}O:{if(!g){break O}b=v[d+28>>2];a=(b<<2)+7960|0;P:{if(v[a>>2]==(d|0)){v[a>>2]=c;if(c){break P}j=Fb(b)&j;v[1915]=j;break O}v[g+(v[g+16>>2]==(d|0)?16:20)>>2]=c;if(!c){break O}}v[c+24>>2]=g;a=v[d+16>>2];if(a){v[c+16>>2]=a;v[a+24>>2]=c}a=v[d+20>>2];if(!a){break O}v[c+20>>2]=a;v[a+24>>2]=c}Q:{if(f>>>0<=15){a=f+h|0;v[d+4>>2]=a|3;a=a+d|0;v[a+4>>2]=v[a+4>>2]|1;break Q}v[d+4>>2]=h|3;e=d+h|0;v[e+4>>2]=f|1;v[e+f>>2]=f;if(f>>>0<=255){b=(f&-8)+7696|0;c=v[1914];a=1<<(f>>>3);R:{if(!(c&a)){v[1914]=a|c;a=b;break R}a=v[b+8>>2]}v[b+8>>2]=e;v[a+12>>2]=e;v[e+12>>2]=b;v[e+8>>2]=a;break Q}a=31;if(f>>>0<=16777215){a=E(f>>>8|0);a=((f>>>38-a&1)-(a<<1)|0)+62|0}v[e+28>>2]=a;v[e+16>>2]=0;v[e+20>>2]=0;b=(a<<2)+7960|0;S:{c=1<<a;T:{if(!(c&j)){v[1915]=c|j;v[b>>2]=e;break T}a=f<<((a|0)!=31?25-(a>>>1|0)|0:0);h=v[b>>2];while(1){b=h;if((v[b+4>>2]&-8)==(f|0)){break S}c=a>>>29|0;a=a<<1;c=(c&4)+b|0;h=v[c+16>>2];if(h){continue}break}v[c+16>>2]=e}v[e+24>>2]=b;v[e+12>>2]=e;v[e+8>>2]=e;break Q}a=v[b+8>>2];v[a+12>>2]=e;v[b+8>>2]=e;v[e+24>>2]=0;v[e+12>>2]=b;v[e+8>>2]=a}a=d+8|0;break a}U:{if(!i){break U}b=v[c+28>>2];a=(b<<2)+7960|0;V:{if(v[a>>2]==(c|0)){v[a>>2]=d;if(d){break V}v[1915]=Fb(b)&j;break U}v[i+(v[i+16>>2]==(c|0)?16:20)>>2]=d;if(!d){break U}}v[d+24>>2]=i;a=v[c+16>>2];if(a){v[d+16>>2]=a;v[a+24>>2]=d}a=v[c+20>>2];if(!a){break U}v[d+20>>2]=a;v[a+24>>2]=d}W:{if(f>>>0<=15){a=f+h|0;v[c+4>>2]=a|3;a=a+c|0;v[a+4>>2]=v[a+4>>2]|1;break W}v[c+4>>2]=h|3;d=c+h|0;v[d+4>>2]=f|1;v[d+f>>2]=f;if(k){b=(k&-8)+7696|0;e=v[1919];a=1<<(k>>>3);X:{if(!(a&g)){v[1914]=a|g;a=b;break X}a=v[b+8>>2]}v[b+8>>2]=e;v[a+12>>2]=e;v[e+12>>2]=b;v[e+8>>2]=a}v[1919]=d;v[1916]=f}a=c+8|0}da=l+16|0;return a|0}function Ua(a,b,c,d,e,f,g){var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,x=0,y=0,z=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0;j=da-80|0;da=j;v[j+76>>2]=b;E=e-192|0;F=d-384|0;H=j+55|0;s=j+56|0;a:{b:{c:{d:while(1){h=0;e:while(1){k=b;if((q^2147483647)<(h|0)){break c}q=h+q|0;f:{g:{h:{h=b;i=w[h|0];if(i){while(1){i:{b=i&255;j:{if(!b){b=h;break j}if((b|0)!=37){break i}i=h;while(1){if(w[i+1|0]!=37){b=i;break j}h=h+1|0;l=w[i+2|0];b=i+2|0;i=b;if((l|0)==37){continue}break}}h=h-k|0;G=q^2147483647;if((h|0)>(G|0)){break c}if(a){ka(a,k,h)}if(h){continue e}v[j+76>>2]=b;h=b+1|0;p=-1;if(!(!ra(t[b+1|0])|w[b+2|0]!=36)){p=t[b+1|0]-48|0;x=1;h=b+3|0}v[j+76>>2]=h;o=0;i=t[h|0];b=i-32|0;k:{if(b>>>0>31){l=h;break k}l=h;b=1<<b;if(!(b&75913)){break k}while(1){l=h+1|0;v[j+76>>2]=l;o=b|o;i=t[h+1|0];b=i-32|0;if(b>>>0>=32){break k}h=l;b=1<<b;if(b&75913){continue}break}}l:{if((i|0)==42){i=l+1|0;m:{if(!(!ra(t[l+1|0])|w[l+2|0]!=36)){b=t[i|0];i=l+3|0;x=1;n:{if(!a){v[(b<<2)+E>>2]=10;b=0;break n}b=v[(b<<3)+F>>2]}break m}if(x){break h}if(!a){v[j+76>>2]=i;x=0;r=0;break l}b=v[c>>2];v[c>>2]=b+4;x=0;b=v[b>>2]}v[j+76>>2]=i;r=b;if((b|0)>=0){break l}r=0-b|0;o=o|8192;break l}r=Ta(j+76|0);if((r|0)<0){break c}i=v[j+76>>2]}h=0;m=-1;o:{if(w[i|0]!=46){b=i;i=0;break o}if(w[i+1|0]==42){b=i+2|0;p:{if(!(!ra(t[i+2|0])|w[i+3|0]!=36)){b=t[b|0];q:{if(!a){v[(b<<2)+E>>2]=10;m=0;break q}m=v[(b<<3)+F>>2]}b=i+4|0;break p}if(x){break h}if(!a){m=0;break p}i=v[c>>2];v[c>>2]=i+4;m=v[i>>2]}v[j+76>>2]=b;i=(m|0)>=0;break o}v[j+76>>2]=i+1;m=Ta(j+76|0);b=v[j+76>>2];i=1}z=i;while(1){y=h;n=28;C=b;i=t[b|0];if(i-123>>>0<4294967238){break b}b=b+1|0;h=w[(i+B(h,58)|0)+3183|0];if(h-1>>>0<8){continue}break}v[j+76>>2]=b;r:{if((h|0)!=27){if(!h){break b}if((p|0)>=0){if(!a){v[(p<<2)+e>>2]=h;continue d}h=(p<<3)+d|0;i=v[h+4>>2];v[j+64>>2]=v[h>>2];v[j+68>>2]=i;break r}if(!a){break f}Ra(j- -64|0,h,c,g);break r}if((p|0)>=0){break b}h=0;if(!a){continue e}}n=-1;if(w[a|0]&32){break a}i=o&-65537;o=o&8192?i:o;p=0;D=1026;l=s;s:{t:{u:{v:{w:{x:{y:{z:{A:{B:{C:{D:{E:{F:{G:{H:{h=t[C|0];h=y?(h&15)==3?h&-33:h:h;switch(h-88|0){case 11:break s;case 9:case 13:case 14:case 15:break t;case 27:break y;case 12:case 17:break B;case 23:break C;case 0:case 32:break D;case 24:break E;case 22:break F;case 29:break G;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 10:case 16:case 18:case 19:case 20:case 21:case 25:case 26:case 28:case 30:case 31:break g;default:break H}}I:{switch(h-65|0){case 0:case 4:case 5:case 6:break t;case 2:break w;case 1:case 3:break g;default:break I}}if((h|0)==83){break x}break g}i=v[j+64>>2];n=v[j+68>>2];h=1026;break A}h=0;J:{switch(y&255){case 0:v[v[j+64>>2]>>2]=q;continue e;case 1:v[v[j+64>>2]>>2]=q;continue e;case 2:k=v[j+64>>2];v[k>>2]=q;v[k+4>>2]=q>>31;continue e;case 3:u[v[j+64>>2]>>1]=q;continue e;case 4:t[v[j+64>>2]]=q;continue e;case 6:v[v[j+64>>2]>>2]=q;continue e;case 7:break J;default:continue e}}k=v[j+64>>2];v[k>>2]=q;v[k+4>>2]=q>>31;continue e}m=m>>>0<=8?8:m;o=o|8;h=120}k=s;i=v[j+64>>2];n=v[j+68>>2];if(i|n){C=h&32;while(1){k=k-1|0;t[k|0]=C|w[(i&15)+3712|0];I=!n&i>>>0>15|(n|0)!=0;y=n;n=n>>>4|0;i=(y&15)<<28|i>>>4;if(I){continue}break}}if(!(o&8)|!(v[j+64>>2]|v[j+68>>2])){break z}D=(h>>>4|0)+1026|0;p=2;break z}h=s;k=v[j+68>>2];n=k;i=v[j+64>>2];if(k|i){while(1){h=h-1|0;t[h|0]=i&7|48;y=!n&i>>>0>7|(n|0)!=0;k=n;n=k>>>3|0;i=(k&7)<<29|i>>>3;if(y){continue}break}}k=h;if(!(o&8)){break z}h=s-h|0;m=(h|0)<(m|0)?m:h+1|0;break z}i=v[j+64>>2];h=v[j+68>>2];n=h;if((h|0)<0){k=0-(h+((i|0)!=0)|0)|0;n=k;i=0-i|0;v[j+64>>2]=i;v[j+68>>2]=k;p=1;h=1026;break A}if(o&2048){p=1;h=1027;break A}p=o&1;h=p?1028:1026}D=h;k=oa(i,n,s)}if((m|0)<0&z){break c}o=z?o&-65537:o;h=v[j+64>>2];i=v[j+68>>2];if(!((h|i)!=0|m)){k=s;m=0;break g}h=!(h|i)+(s-k|0)|0;m=(h|0)<(m|0)?m:h;break g}n=m>>>0>=2147483647?2147483647:m;l=n;o=(l|0)!=0;h=v[j+64>>2];k=h?h:2086;h=k;K:{L:{M:{N:{if(!(h&3)|!l){break N}while(1){if(!w[h|0]){break M}l=l-1|0;o=(l|0)!=0;h=h+1|0;if(!(h&3)){break N}if(l){continue}break}}if(!o){break L}if(!(!w[h|0]|l>>>0<4)){while(1){o=v[h>>2];if((o^-1)&o-16843009&-2139062144){break M}h=h+4|0;l=l-4|0;if(l>>>0>3){continue}break}}if(!l){break L}}while(1){if(!w[h|0]){break K}h=h+1|0;l=l-1|0;if(l){continue}break}}h=0}h=h?h-k|0:n;l=h+k|0;if((m|0)>=0){o=i;m=h;break g}o=i;m=h;if(w[l|0]){break c}break g}if(m){i=v[j+64>>2];break v}h=0;la(a,32,r,0,o);break u}v[j+12>>2]=0;v[j+8>>2]=v[j+64>>2];i=j+8|0;v[j+64>>2]=i;m=-1}h=0;O:{while(1){k=v[i>>2];if(!k){break O}k=Oa(j+4|0,k);l=(k|0)<0;if(!(l|k>>>0>m-h>>>0)){i=i+4|0;h=h+k|0;if(m>>>0>h>>>0){continue}break O}break}if(l){break a}}n=61;if((h|0)<0){break b}la(a,32,r,h,o);if(!h){h=0;break u}l=0;i=v[j+64>>2];while(1){k=v[i>>2];if(!k){break u}n=j+4|0;k=Oa(n,k);l=k+l|0;if(l>>>0>h>>>0){break u}ka(a,n,k);i=i+4|0;if(h>>>0>l>>>0){continue}break}}la(a,32,r,h,o^8192);h=(h|0)<(r|0)?r:h;continue e}if((m|0)<0&z){break c}n=61;h=fa[f|0](a,A[j+64>>3],r,m,o,h)|0;if((h|0)>=0){continue e}break b}t[j+55|0]=v[j+64>>2];m=1;k=H;o=i;break g}i=w[h+1|0];h=h+1|0;continue}}n=q;if(a){break a}if(!x){break f}h=1;while(1){a=v[(h<<2)+e>>2];if(a){Ra((h<<3)+d|0,a,c,g);n=1;h=h+1|0;if((h|0)!=10){continue}break a}break}n=1;if(h>>>0>=10){break a}while(1){if(v[(h<<2)+e>>2]){break h}h=h+1|0;if((h|0)!=10){continue}break}break a}n=28;break b}l=l-k|0;m=(l|0)<(m|0)?m:l;if((m|0)>(p^2147483647)){break c}n=61;i=m+p|0;h=(i|0)<(r|0)?r:i;if((G|0)<(h|0)){break b}la(a,32,h,i,o);ka(a,D,p);la(a,48,h,i,o^65536);la(a,48,m,l,0);ka(a,k,l);la(a,32,h,i,o^8192);continue}break}break}n=0;break a}n=61}v[1866]=n;n=-1}da=j+80|0;return n}function xb(a,b,c,d,e,f){a=a|0;b=+b;c=c|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,k=0,l=0,m=0,n=0,p=0,q=0,r=0,s=0,u=0,x=0,y=0,z=0,A=0,C=0,E=0,F=0;p=da-560|0;da=p;v[p+44>>2]=0;o(+b);g=j(1)|0;j(0)|0;a:{if((g|0)<0){y=1;C=1036;b=-b;o(+b);g=j(1)|0;j(0)|0;break a}if(e&2048){y=1;C=1039;break a}y=e&1;C=y?1042:1037;F=!y}b:{if((g&2146435072)==2146435072){g=y+3|0;la(a,32,c,g,e&-65537);ka(a,C,y);d=f&32;ka(a,b!=b?d?1177:1401:d?1271:1405,3);la(a,32,c,g,e^8192);n=(c|0)<(g|0)?g:c;break b}z=p+16|0;c:{d:{e:{b=Wa(b,p+44|0);b=b+b;if(b!=0){g=v[p+44>>2];v[p+44>>2]=g-1;A=f|32;if((A|0)!=97){break e}break c}A=f|32;if((A|0)==97){break c}l=v[p+44>>2];m=(d|0)<0?6:d;break d}l=g-29|0;v[p+44>>2]=l;b=b*268435456;m=(d|0)<0?6:d}r=(p+48|0)+((l|0)>=0?288:0)|0;h=r;while(1){if(b<4294967296&b>=0){d=~~b>>>0}else{d=0}v[h>>2]=d;h=h+4|0;b=(b-+(d>>>0))*1e9;if(b!=0){continue}break}f:{if((l|0)<=0){d=l;g=h;i=r;break f}i=r;d=l;while(1){k=(d|0)>=29?29:d;g=h-4|0;g:{if(i>>>0>g>>>0){break g}q=0;while(1){d=v[g>>2];n=k&31;E=q;if((k&63)>>>0>=32){q=d<<n;d=0}else{q=(1<<n)-1&d>>>32-n;d=d<<n}n=E+d|0;q=q+s|0;q=Eb(n,d>>>0>n>>>0?q+1|0:q,1e9);v[g>>2]=n-Db(q,ea,1e9);g=g-4|0;if(i>>>0<=g>>>0){continue}break}if(!q){break g}i=i-4|0;v[i>>2]=q}while(1){g=h;if(i>>>0<g>>>0){h=g-4|0;if(!v[h>>2]){continue}}break}d=v[p+44>>2]-k|0;v[p+44>>2]=d;h=g;if((d|0)>0){continue}break}}if((d|0)<0){x=((m+25>>>0)/9|0)+1|0;s=(A|0)==102;while(1){d=0-d|0;n=(d|0)>=9?9:d;h:{if(g>>>0<=i>>>0){h=v[i>>2];break h}q=1e9>>>n|0;k=-1<<n^-1;d=0;h=i;while(1){E=d;d=v[h>>2];v[h>>2]=E+(d>>>n|0);d=B(q,d&k);h=h+4|0;if(h>>>0<g>>>0){continue}break}h=v[i>>2];if(!d){break h}v[g>>2]=d;g=g+4|0}d=n+v[p+44>>2]|0;v[p+44>>2]=d;i=(!h<<2)+i|0;h=s?r:i;g=g-h>>2>(x|0)?h+(x<<2)|0:g;if((d|0)<0){continue}break}}d=0;i:{if(g>>>0<=i>>>0){break i}d=B(r-i>>2,9);h=10;k=v[i>>2];if(k>>>0<10){break i}while(1){d=d+1|0;h=B(h,10);if(k>>>0>=h>>>0){continue}break}}h=(m-((A|0)!=102?d:0)|0)-((A|0)==103&(m|0)!=0)|0;if((h|0)<(B(g-r>>2,9)-9|0)){q=h+9216|0;k=(q|0)/9|0;x=((p+48|0)+((l|0)<0?4:292)|0)+(k<<2)|0;l=x-4096|0;h=10;n=q-B(k,9)|0;if((n|0)<=7){while(1){h=B(h,10);n=n+1|0;if((n|0)!=8){continue}break}}s=v[l>>2];q=(s>>>0)/(h>>>0)|0;n=s-B(h,q)|0;k=x-4092|0;j:{if(!n&(k|0)==(g|0)){break j}k:{if(!(q&1)){b=9007199254740992;if(!(t[x-4100|0]&1)|((h|0)!=1e9|i>>>0>=l>>>0)){break k}}b=9007199254740994}u=(g|0)==(k|0)?1:1.5;k=h>>>1|0;u=k>>>0>n>>>0?.5:(k|0)==(n|0)?u:1.5;if(!(w[C|0]!=45|F)){u=-u;b=-b}k=s-n|0;v[l>>2]=k;if(b+u==b){break j}d=h+k|0;v[l>>2]=d;if(d>>>0>=1e9){while(1){v[l>>2]=0;l=l-4|0;if(l>>>0<i>>>0){i=i-4|0;v[i>>2]=0}d=v[l>>2]+1|0;v[l>>2]=d;if(d>>>0>999999999){continue}break}}d=B(r-i>>2,9);h=10;k=v[i>>2];if(k>>>0<10){break j}while(1){d=d+1|0;h=B(h,10);if(k>>>0>=h>>>0){continue}break}}h=l+4|0;g=g>>>0>h>>>0?h:g}while(1){k=g;q=g>>>0<=i>>>0;if(!q){g=g-4|0;if(!v[g>>2]){continue}}break}l:{if((A|0)!=103){l=e&8;break l}h=m?m:1;g=(h|0)>(d|0)&(d|0)>-5;m=(g?d^-1:-1)+h|0;f=(g?-1:-2)+f|0;l=e&8;if(l){break l}g=-9;m:{if(q){break m}l=v[k-4>>2];if(!l){break m}n=10;g=0;if((l>>>0)%10|0){break m}while(1){h=g;g=g+1|0;n=B(n,10);if(!((l>>>0)%(n>>>0)|0)){continue}break}g=h^-1}h=B(k-r>>2,9);if((f&-33)==70){l=0;g=(g+h|0)-9|0;g=(g|0)>0?g:0;m=(g|0)>(m|0)?m:g;break l}l=0;g=((d+h|0)+g|0)-9|0;g=(g|0)>0?g:0;m=(g|0)>(m|0)?m:g}n=-1;q=l|m;if(((q?2147483645:2147483646)|0)<(m|0)){break b}s=(((q|0)!=0)+m|0)+1|0;h=f&-33;n:{if((h|0)==70){if((s^2147483647)<(d|0)){break b}g=(d|0)>0?d:0;break n}g=d>>31;g=oa((g^d)-g|0,0,z);if((z-g|0)<=1){while(1){g=g-1|0;t[g|0]=48;if((z-g|0)<2){continue}break}}x=g-2|0;t[x|0]=f;t[g-1|0]=(d|0)<0?45:43;g=z-x|0;if((g|0)>(s^2147483647)){break b}}d=g+s|0;if((d|0)>(y^2147483647)){break b}s=d+y|0;la(a,32,c,s,e);ka(a,C,y);la(a,48,c,s,e^65536);o:{p:{q:{if((h|0)==70){f=p+16|0;d=f|8;l=f|9;h=i>>>0>r>>>0?r:i;i=h;while(1){g=oa(v[i>>2],0,l);r:{if((h|0)!=(i|0)){if(p+16>>>0>=g>>>0){break r}while(1){g=g-1|0;t[g|0]=48;if(p+16>>>0<g>>>0){continue}break}break r}if((g|0)!=(l|0)){break r}t[p+24|0]=48;g=d}ka(a,g,l-g|0);i=i+4|0;if(r>>>0>=i>>>0){continue}break}if(q){ka(a,2084,1)}if((m|0)<=0|i>>>0>=k>>>0){break q}while(1){g=oa(v[i>>2],0,l);if(g>>>0>p+16>>>0){while(1){g=g-1|0;t[g|0]=48;if(p+16>>>0<g>>>0){continue}break}}ka(a,g,(m|0)>=9?9:m);g=m-9|0;i=i+4|0;if(k>>>0<=i>>>0){break p}d=(m|0)>9;m=g;if(d){continue}break}break p}s:{if((m|0)<0){break s}r=i>>>0<k>>>0?k:i+4|0;f=p+16|0;d=f|8;k=f|9;h=i;while(1){g=oa(v[h>>2],0,k);if((k|0)==(g|0)){t[p+24|0]=48;g=d}t:{if((h|0)!=(i|0)){if(p+16>>>0>=g>>>0){break t}while(1){g=g-1|0;t[g|0]=48;if(p+16>>>0<g>>>0){continue}break}break t}ka(a,g,1);g=g+1|0;if(!(l|m)){break t}ka(a,2084,1)}f=k-g|0;ka(a,g,(f|0)<(m|0)?f:m);m=m-f|0;h=h+4|0;if(r>>>0<=h>>>0){break s}if((m|0)>=0){continue}break}}la(a,48,m+18|0,18,0);ka(a,x,z-x|0);break o}g=m}la(a,48,g+9|0,9,0)}la(a,32,c,s,e^8192);n=(c|0)<(s|0)?s:c;break b}l=(f<<26>>31&9)+C|0;u:{if(d>>>0>11){break u}g=12-d|0;u=16;while(1){u=u*16;g=g-1|0;if(g){continue}break}if(w[l|0]==45){b=-(u+(-b-u));break u}b=b+u-u}g=v[p+44>>2];h=g>>31;g=oa((g^h)-h|0,0,z);if((z|0)==(g|0)){t[p+15|0]=48;g=p+15|0}r=y|2;i=f&32;h=v[p+44>>2];m=g-2|0;t[m|0]=f+15;t[g-1|0]=(h|0)<0?45:43;g=e&8;h=p+16|0;while(1){f=h;if(D(b)<2147483648){k=~~b}else{k=-2147483648}t[h|0]=i|w[k+3712|0];b=(b-+(k|0))*16;h=f+1|0;if(!(!(g|(d|0)>0)&b==0|(h-(p+16|0)|0)!=1)){t[f+1|0]=46;h=f+2|0}if(b!=0){continue}break}n=-1;g=z-m|0;f=g+r|0;if((2147483645-f|0)<(d|0)){break b}k=f;f=p+16|0;i=h-f|0;d=d?(i-2|0)<(d|0)?d+2|0:i:i;h=k+d|0;la(a,32,c,h,e);ka(a,l,r);la(a,48,c,h,e^65536);ka(a,f,i);la(a,48,d-i|0,0,0);ka(a,m,g);la(a,32,c,h,e^8192);n=(c|0)<(h|0)?h:c}da=p+560|0;return n|0}function ua(a){a=a|0;var b=0,c=0,d=0,e=0,f=0,g=0,h=0;a:{if(!a){break a}d=a-8|0;b=v[a-4>>2];a=b&-8;f=d+a|0;b:{if(b&1){break b}if(!(b&3)){break a}b=v[d>>2];d=d-b|0;if(d>>>0<y[1918]){break a}a=a+b|0;c:{d:{if(v[1919]!=(d|0)){if(b>>>0<=255){e=b>>>3|0;b=v[d+12>>2];c=v[d+8>>2];if((b|0)==(c|0)){v[1914]=v[1914]&Fb(e);break b}v[c+12>>2]=b;v[b+8>>2]=c;break b}h=v[d+24>>2];b=v[d+12>>2];if((d|0)!=(b|0)){c=v[d+8>>2];v[c+12>>2]=b;v[b+8>>2]=c;break c}e=d+20|0;c=v[e>>2];if(!c){c=v[d+16>>2];if(!c){break d}e=d+16|0}while(1){g=e;b=c;e=b+20|0;c=v[e>>2];if(c){continue}e=b+16|0;c=v[b+16>>2];if(c){continue}break}v[g>>2]=0;break c}b=v[f+4>>2];if((b&3)!=3){break b}v[1916]=a;v[f+4>>2]=b&-2;v[d+4>>2]=a|1;v[f>>2]=a;return}b=0}if(!h){break b}c=v[d+28>>2];e=(c<<2)+7960|0;e:{if(v[e>>2]==(d|0)){v[e>>2]=b;if(b){break e}v[1915]=v[1915]&Fb(c);break b}v[h+(v[h+16>>2]==(d|0)?16:20)>>2]=b;if(!b){break b}}v[b+24>>2]=h;c=v[d+16>>2];if(c){v[b+16>>2]=c;v[c+24>>2]=b}c=v[d+20>>2];if(!c){break b}v[b+20>>2]=c;v[c+24>>2]=b}if(d>>>0>=f>>>0){break a}b=v[f+4>>2];if(!(b&1)){break a}f:{g:{h:{i:{if(!(b&2)){if(v[1920]==(f|0)){v[1920]=d;a=v[1917]+a|0;v[1917]=a;v[d+4>>2]=a|1;if(v[1919]!=(d|0)){break a}v[1916]=0;v[1919]=0;return}if(v[1919]==(f|0)){v[1919]=d;a=v[1916]+a|0;v[1916]=a;v[d+4>>2]=a|1;v[a+d>>2]=a;return}a=(b&-8)+a|0;if(b>>>0<=255){e=b>>>3|0;b=v[f+12>>2];c=v[f+8>>2];if((b|0)==(c|0)){v[1914]=v[1914]&Fb(e);break g}v[c+12>>2]=b;v[b+8>>2]=c;break g}h=v[f+24>>2];b=v[f+12>>2];if((f|0)!=(b|0)){c=v[f+8>>2];v[c+12>>2]=b;v[b+8>>2]=c;break h}e=f+20|0;c=v[e>>2];if(!c){c=v[f+16>>2];if(!c){break i}e=f+16|0}while(1){g=e;b=c;e=b+20|0;c=v[e>>2];if(c){continue}e=b+16|0;c=v[b+16>>2];if(c){continue}break}v[g>>2]=0;break h}v[f+4>>2]=b&-2;v[d+4>>2]=a|1;v[a+d>>2]=a;break f}b=0}if(!h){break g}c=v[f+28>>2];e=(c<<2)+7960|0;j:{if(v[e>>2]==(f|0)){v[e>>2]=b;if(b){break j}v[1915]=v[1915]&Fb(c);break g}v[h+(v[h+16>>2]==(f|0)?16:20)>>2]=b;if(!b){break g}}v[b+24>>2]=h;c=v[f+16>>2];if(c){v[b+16>>2]=c;v[c+24>>2]=b}c=v[f+20>>2];if(!c){break g}v[b+20>>2]=c;v[c+24>>2]=b}v[d+4>>2]=a|1;v[a+d>>2]=a;if(v[1919]!=(d|0)){break f}v[1916]=a;return}if(a>>>0<=255){b=(a&-8)+7696|0;c=v[1914];a=1<<(a>>>3);k:{if(!(c&a)){v[1914]=a|c;a=b;break k}a=v[b+8>>2]}v[b+8>>2]=d;v[a+12>>2]=d;v[d+12>>2]=b;v[d+8>>2]=a;return}c=31;if(a>>>0<=16777215){b=E(a>>>8|0);c=((a>>>38-b&1)-(b<<1)|0)+62|0}v[d+28>>2]=c;v[d+16>>2]=0;v[d+20>>2]=0;b=(c<<2)+7960|0;l:{m:{e=v[1915];g=1<<c;n:{if(!(e&g)){v[1915]=e|g;v[b>>2]=d;v[d+24>>2]=b;break n}c=a<<((c|0)!=31?25-(c>>>1|0)|0:0);b=v[b>>2];while(1){e=b;if((v[b+4>>2]&-8)==(a|0)){break m}g=c>>>29|0;c=c<<1;g=b+(g&4)|0;b=v[g+16>>2];if(b){continue}break}v[g+16>>2]=d;v[d+24>>2]=e}v[d+12>>2]=d;v[d+8>>2]=d;break l}a=v[e+8>>2];v[a+12>>2]=d;v[e+8>>2]=d;v[d+24>>2]=0;v[d+12>>2]=e;v[d+8>>2]=a}a=v[1922]-1|0;v[1922]=a?a:-1}}function Ma(a,b){var c=0,d=0,e=0,f=0,g=0,h=0;f=a+b|0;c=v[a+4>>2];a:{b:{if(c&1){break b}if(!(c&3)){break a}c=v[a>>2];b=c+b|0;c:{d:{e:{a=a-c|0;if((a|0)!=v[1919]){if(c>>>0<=255){d=v[a+8>>2];e=v[a+12>>2];if((d|0)!=(e|0)){break e}v[1914]=v[1914]&Fb(c>>>3|0);break b}h=v[a+24>>2];c=v[a+12>>2];if((c|0)!=(a|0)){d=v[a+8>>2];v[d+12>>2]=c;v[c+8>>2]=d;break c}e=a+20|0;d=v[e>>2];if(!d){d=v[a+16>>2];if(!d){break d}e=a+16|0}while(1){g=e;c=d;e=c+20|0;d=v[e>>2];if(d){continue}e=c+16|0;d=v[c+16>>2];if(d){continue}break}v[g>>2]=0;break c}c=v[f+4>>2];if((c&3)!=3){break b}v[1916]=b;v[f+4>>2]=c&-2;v[a+4>>2]=b|1;v[f>>2]=b;return}v[d+12>>2]=e;v[e+8>>2]=d;break b}c=0}if(!h){break b}d=v[a+28>>2];e=(d<<2)+7960|0;f:{if(v[e>>2]==(a|0)){v[e>>2]=c;if(c){break f}v[1915]=v[1915]&Fb(d);break b}v[h+(v[h+16>>2]==(a|0)?16:20)>>2]=c;if(!c){break b}}v[c+24>>2]=h;d=v[a+16>>2];if(d){v[c+16>>2]=d;v[d+24>>2]=c}d=v[a+20>>2];if(!d){break b}v[c+20>>2]=d;v[d+24>>2]=c}g:{h:{i:{j:{c=v[f+4>>2];if(!(c&2)){if(v[1920]==(f|0)){v[1920]=a;b=v[1917]+b|0;v[1917]=b;v[a+4>>2]=b|1;if(v[1919]!=(a|0)){break a}v[1916]=0;v[1919]=0;return}if(v[1919]==(f|0)){v[1919]=a;b=v[1916]+b|0;v[1916]=b;v[a+4>>2]=b|1;v[a+b>>2]=b;return}b=(c&-8)+b|0;if(c>>>0<=255){e=c>>>3|0;c=v[f+12>>2];d=v[f+8>>2];if((c|0)==(d|0)){v[1914]=v[1914]&Fb(e);break h}v[d+12>>2]=c;v[c+8>>2]=d;break h}h=v[f+24>>2];c=v[f+12>>2];if((f|0)!=(c|0)){d=v[f+8>>2];v[d+12>>2]=c;v[c+8>>2]=d;break i}e=f+20|0;d=v[e>>2];if(!d){d=v[f+16>>2];if(!d){break j}e=f+16|0}while(1){g=e;c=d;e=c+20|0;d=v[e>>2];if(d){continue}e=c+16|0;d=v[c+16>>2];if(d){continue}break}v[g>>2]=0;break i}v[f+4>>2]=c&-2;v[a+4>>2]=b|1;v[a+b>>2]=b;break g}c=0}if(!h){break h}d=v[f+28>>2];e=(d<<2)+7960|0;k:{if(v[e>>2]==(f|0)){v[e>>2]=c;if(c){break k}v[1915]=v[1915]&Fb(d);break h}v[h+(v[h+16>>2]==(f|0)?16:20)>>2]=c;if(!c){break h}}v[c+24>>2]=h;d=v[f+16>>2];if(d){v[c+16>>2]=d;v[d+24>>2]=c}d=v[f+20>>2];if(!d){break h}v[c+20>>2]=d;v[d+24>>2]=c}v[a+4>>2]=b|1;v[a+b>>2]=b;if(v[1919]!=(a|0)){break g}v[1916]=b;return}if(b>>>0<=255){c=(b&-8)+7696|0;d=v[1914];b=1<<(b>>>3);l:{if(!(d&b)){v[1914]=b|d;b=c;break l}b=v[c+8>>2]}v[c+8>>2]=a;v[b+12>>2]=a;v[a+12>>2]=c;v[a+8>>2]=b;return}d=31;if(b>>>0<=16777215){c=E(b>>>8|0);d=((b>>>38-c&1)-(c<<1)|0)+62|0}v[a+28>>2]=d;v[a+16>>2]=0;v[a+20>>2]=0;c=(d<<2)+7960|0;m:{e=v[1915];g=1<<d;n:{if(!(e&g)){v[1915]=e|g;v[c>>2]=a;v[a+24>>2]=c;break n}d=b<<((d|0)!=31?25-(d>>>1|0)|0:0);c=v[c>>2];while(1){e=c;if((v[c+4>>2]&-8)==(b|0)){break m}g=d>>>29|0;d=d<<1;g=c+(g&4)|0;c=v[g+16>>2];if(c){continue}break}v[g+16>>2]=a;v[a+24>>2]=e}v[a+12>>2]=a;v[a+8>>2]=a;return}b=v[e+8>>2];v[b+12>>2]=a;v[e+8>>2]=a;v[a+24>>2]=0;v[a+12>>2]=e;v[a+8>>2]=b}}function wb(a,b){a=a|0;b=b|0;var c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,m=0,o=0,p=0,q=0,r=0;c=b;b=v[b>>2]+7&-8;v[c>>2]=b+16;r=a;a=b;i=v[a>>2];d=v[a+4>>2];c=v[a+8>>2];a=v[a+12>>2];p=a;g=da-32|0;da=g;a=a&2147483647;h=a;b=c;e=a-1006698496|0;a=a-1140785152|0;a:{if((e|0)==(a|0)&0|a>>>0>e>>>0){a=b;c=p<<4|a>>>28;b=a<<4|d>>>28;a=c;d=d&268435455;if((d|0)==134217728&(i|0)!=0|d>>>0>134217728){a=a+1073741824|0;b=b+1|0;a=b?a:a+1|0;break a}a=a+1073741824|0;if(i|(d|0)!=134217728){break a}d=b&1;b=d+b|0;a=b>>>0<d>>>0?a+1|0:a;break a}if(!(!b&(h|0)==2147418112?!(d|i):h>>>0<2147418112)){a=c;c=p<<4|a>>>28;b=a<<4|d>>>28;a=c&524287|2146959360;break a}b=0;a=2146435072;if(h>>>0>1140785151){break a}a=0;q=h>>>16|0;if(q>>>0<15249){break a}b=i;a=d;e=p&65535|65536;h=e;m=c;f=c;k=q-15233|0;b:{if(k&64){e=b;a=k+-64|0;c=a&31;if((a&63)>>>0>=32){a=b<<c;f=0}else{a=(1<<c)-1&e>>>32-c|d<<c;f=e<<c}e=a;b=0;a=0;break b}if(!k){break b}o=f;j=k&31;if((k&63)>>>0>=32){c=f<<j;f=0}else{c=(1<<j)-1&o>>>32-j|e<<j;f=o<<j}e=c;o=f;j=b;c=64-k|0;f=c&31;if((c&63)>>>0>=32){c=0;f=a>>>f|0}else{c=a>>>f|0;f=((1<<f)-1&a)<<32-f|j>>>f}f=o|f;e=c|e;o=b;j=k&31;if((k&63)>>>0>=32){c=b<<j;b=0}else{c=(1<<j)-1&o>>>32-j|a<<j;b=o<<j}a=c}v[g+16>>2]=b;v[g+20>>2]=a;v[g+24>>2]=f;v[g+28>>2]=e;b=15361-q|0;c:{if(b&64){d=m;b=b+-64|0;a=b&31;if((b&63)>>>0>=32){c=0;i=h>>>a|0}else{c=h>>>a|0;i=((1<<a)-1&h)<<32-a|d>>>a}d=c;m=0;h=0;break c}if(!b){break c}e=m;a=64-b|0;c=a&31;if((a&63)>>>0>=32){a=e<<c;f=0}else{a=(1<<c)-1&e>>>32-c|h<<c;f=e<<c}e=i;i=b&31;if((b&63)>>>0>=32){c=0;e=d>>>i|0}else{c=d>>>i|0;e=((1<<i)-1&d)<<32-i|e>>>i}i=f|e;d=a|c;e=m;c=b&31;if((b&63)>>>0>=32){a=0;m=h>>>c|0}else{a=h>>>c|0;m=((1<<c)-1&h)<<32-c|e>>>c}h=a}v[g>>2]=i;v[g+4>>2]=d;v[g+8>>2]=m;v[g+12>>2]=h;b=v[g+8>>2];a=v[g+12>>2]<<4|b>>>28;b=b<<4;c=v[g>>2];h=v[g+4>>2];b=h>>>28|b;d=h&268435455;c=c|(v[g+16>>2]|v[g+24>>2]|(v[g+20>>2]|v[g+28>>2]))!=0;if((d|0)==134217728&(c|0)!=0|d>>>0>134217728){b=b+1|0;a=b?a:a+1|0;break a}if(c|(d|0)!=134217728){break a}c=b;b=b+(b&1)|0;a=c>>>0>b>>>0?a+1|0:a}da=g+32|0;l(0,b|0);l(1,p&-2147483648|a);A[r>>3]=n()}function ab(){var a=0,b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,q=0,r=0,s=0,t=0,u=0,w=0;i=da-32|0;da=i;Na();a=da-16|0;da=a;v[a>>2]=512;N(4584,1024,a|0)|0;da=a+16|0;pa(1,0,22136);v[i+16>>2]=42;b=da+-64|0;da=b;a=i+16|0;v[b+60>>2]=a;c=Qa(0,0,a)+1|0;a=c;d=a>>>0<=1?1:a;a:{while(1){a=xa(d);if(a){break a}a=v[2040];if(a){fa[a|0]();continue}break}v[2038]=0;e=aa(9,28)|0;a=v[2038];v[2038]=0;b:{c:{if((a|0)!=1){if(!e){break c}a=sa(e,0,28)+24|0;break b}P(0)|0}Ka();p()}v[a>>2]=4340;v[a>>2]=4320;ba(a|0,4392,8);p()}Qa(a,c,v[b+60>>2]);v[b+48>>2]=0;v[b+44>>2]=0;v[b+40>>2]=1;v[b+36>>2]=10;v[b+32>>2]=a;N(5044,2308,b+32|0)|0;v[b+16>>2]=a;v[b+12>>2]=0;v[b+8>>2]=0;v[b+4>>2]=1;v[b>>2]=10;N(5206,2314,b|0)|0;ua(a);da=b- -64|0;a=da-16|0;da=a;v[a+4>>2]=1;v[a>>2]=13;N(5841,2323,a|0)|0;da=a+16|0;a=da-16|0;da=a;v[a+4>>2]=0;v[a>>2]=1355;N(5461,2320,a|0)|0;da=a+16|0;Ha();d:while(1){if((e|0)!=256){c=e+50|0;a=e<<8&63488;d=0;while(1)if((d|0)==256){e=e+1|0;continue d}else{pa(c,d+250|0,a|d<<3&2016);d=d+1|0;continue}}break}l=300;d=250;e=40;e:{if(e>>>0>=10){a=d;j=e;d=20;e=10;break e}a=20;j=10}c=a-d|0;b=c>>31;m=(b^c)-b|0;c=100-d|0;b=c>>31;r=(b^c)-b|0;c=j-e|0;b=c>>31;n=(b^c)-b|0;o=n>>>2|0;c=l-e|0;b=c>>31;q=(b^c)-b|0;s=q>>>2|0;w=(a|0)<100?1:-1;k=(a|0)>(d|0)?1:-1;t=(d|0)<100?1:-1;u=l-j|0;b=e;c=d;f=c;while(1){if((b|0)>=(j|0)){f=u>>31;m=(f^u)-f|0;n=m>>>2|0;f=100-a|0;k=f>>31;o=(f^k)-k|0;k=l-1|0}else{h=h+r|0;while(1){if((h|0)>=(s|0)){c=c+t|0;h=h-q|0;continue}break}g=g+m|0;while(1){if((g|0)>=(o|0)){f=f+k|0;g=g-n|0;continue}break}b=b+1|0;Sa(b,c,f);continue}break}f=a;g=0;while(1){f:{g:{if((b|0)<(k|0)){h=h+r|0;while(1){if((h|0)>=(s|0)){c=c+t|0;h=h-q|0;continue}break}g=g+o|0;while(1){if((g|0)<(n|0)){break g}f=f+w|0;g=g-m|0;continue}}ta(e,d,j,a,31);ta(j,a,l,100,31);ta(l,100,e,d,31);break f}b=b+1|0;Sa(b,c,f);continue}break}ta(100,30,290,500,63488);ta(110,30,300,500,63488);Ha();Ca(1,2);v[i>>2]=42;Za(2272,i);La();da=i+32|0;return 0}function rb(a){a=a|0;var b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0;f=da-16|0;da=f;g=a>>>0<=1?1:a;a=g+15&-16;a=a>>>0>g>>>0?a:g;if(!(a&15)){if(a>>>0>4294967216){a=48}else{a:{if(a>>>0>=4294967216){v[1866]=48;b=0;break a}d=a>>>0<11?16:a+11&-8;a=xa(d+28|0);b=0;if(!a){break a}b=a-8|0;b:{if(!(a&15)){a=b;break b}h=a-4|0;i=v[h>>2];a=(a+15&-16)-8|0;a=(a-b>>>0<=15?16:0)+a|0;c=a-b|0;e=(i&-8)-c|0;if(!(i&3)){b=v[b>>2];v[a+4>>2]=e;v[a>>2]=b+c;break b}v[a+4>>2]=e|v[a+4>>2]&1|2;e=a+e|0;v[e+4>>2]=v[e+4>>2]|1;v[h>>2]=c|v[h>>2]&1|2;e=b+c|0;v[e+4>>2]=v[e+4>>2]|1;Ma(b,c)}b=v[a+4>>2];c:{if(!(b&3)){break c}c=b&-8;if(c>>>0<=d+16>>>0){break c}v[a+4>>2]=d|b&1|2;b=a+d|0;d=c-d|0;v[b+4>>2]=d|3;c=a+c|0;v[c+4>>2]=v[c+4>>2]|1;Ma(b,d)}b=a+8|0}if(b){v[f+12>>2]=b;a=0}else{a=48}}b=a?0:v[f+12>>2]}da=f+16|0;if(!b){d:{b=0;a=v[2041];if(!a){v[2041]=8188;u[4095]=125;u[4094]=va(8688);a=v[2041]}d=(g+3>>>2|0)+1|0;while(1){e:{if(!a|(a|0)==8688){b=0}else{c=x[a+2>>1];f=d+(d>>>0<c>>>0?c-d&3:0)|0;if(c>>>0>f>>>0){b=c-f|0;u[a+2>>1]=b;a=((b&65535)<<2)+a|0;u[a+2>>1]=f;u[a>>1]=0;b=a+4|0;break d}if(d>>>0>c>>>0){break e}d=x[a>>1];f:{if(!b){v[2041]=wa(d);break f}u[b>>1]=d}u[a>>1]=0;b=a+4|0}break d}b=a;a=wa(x[a>>1]);continue}}}return b|0}function Eb(a,b,c){var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0;a:{b:{c:{d:{e:{f:{g:{h:{i:{j:{if(b){if(!c){break j}break i}ea=0;a=(a>>>0)/(c>>>0)|0;break a}if(!a){break h}break g}if(!(c-1&c)){break f}f=(E(c)+33|0)-E(b)|0;g=0-f|0;break d}ea=0;a=(b>>>0)/0|0;break a}d=32-E(b)|0;if(d>>>0<31){break e}break c}if((c|0)==1){break b}f=Cb(c);c=f&31;if((f&63)>>>0>=32){a=b>>>c|0}else{d=b>>>c|0;a=((1<<c)-1&b)<<32-c|a>>>c}ea=d;break a}f=d+1|0;g=63-d|0}d=f&63;e=d&31;if(d>>>0>=32){d=0;h=b>>>e|0}else{d=b>>>e|0;h=((1<<e)-1&b)<<32-e|a>>>e}g=g&63;e=g&31;if(g>>>0>=32){b=a<<e;a=0}else{b=(1<<e)-1&a>>>32-e|b<<e;a=a<<e}if(f){g=c-1|0;l=(g|0)==-1?-1:0;while(1){i=d<<1|h>>>31;d=h<<1|b>>>31;e=l-(i+(d>>>0>g>>>0)|0)>>31;j=c&e;h=d-j|0;d=i-(d>>>0<j>>>0)|0;b=b<<1|a>>>31;a=k|a<<1;k=e&1;f=f-1|0;if(f){continue}break}}ea=b<<1|a>>>31;a=k|a<<1;break a}a=0;b=0}ea=b}return a}function Ra(a,b,c,d){a:{switch(b-9|0){case 0:b=v[c>>2];v[c>>2]=b+4;v[a>>2]=v[b>>2];return;case 6:b=v[c>>2];v[c>>2]=b+4;b=u[b>>1];v[a>>2]=b;v[a+4>>2]=b>>31;return;case 7:b=v[c>>2];v[c>>2]=b+4;v[a>>2]=x[b>>1];v[a+4>>2]=0;return;case 8:b=v[c>>2];v[c>>2]=b+4;b=t[b|0];v[a>>2]=b;v[a+4>>2]=b>>31;return;case 9:b=v[c>>2];v[c>>2]=b+4;v[a>>2]=w[b|0];v[a+4>>2]=0;return;case 16:b=v[c>>2]+7&-8;v[c>>2]=b+8;A[a>>3]=A[b>>3];return;case 17:fa[d|0](a,c);default:return;case 1:case 4:case 14:b=v[c>>2];v[c>>2]=b+4;b=v[b>>2];v[a>>2]=b;v[a+4>>2]=b>>31;return;case 2:case 5:case 11:case 15:b=v[c>>2];v[c>>2]=b+4;v[a>>2]=v[b>>2];v[a+4>>2]=0;return;case 3:case 10:case 12:case 13:break a}}b=v[c>>2]+7&-8;v[c>>2]=b+8;c=v[b+4>>2];v[a>>2]=v[b>>2];v[a+4>>2]=c}function _a(){Y(4004,1282);X(4016,1181,1,0);M(4028,1107,1,-128,127);M(4052,1100,1,-128,127);M(4040,1098,1,0,255);M(4064,1064,2,-32768,32767);M(4076,1055,2,0,65535);M(4088,1079,4,-2147483648,2147483647);M(4100,1070,4,0,-1);M(4112,1211,4,-2147483648,2147483647);M(4124,1202,4,0,-1);Ba(4136,1090,-2147483648,2147483647);Ba(4148,1089,0,-1);S(4160,1083,4);S(4172,1275,8);R(2396,1229);R(2468,1913);O(2540,4,1216);O(2616,2,1241);O(2692,4,1256);W(2720,1186);L(2760,0,1844);L(2800,0,1946);L(2840,1,1874);L(2880,2,1409);L(2920,3,1440);L(2960,4,1480);L(3e3,5,1509);L(3040,4,1983);L(3080,5,2013);L(2800,0,1611);L(2840,1,1578);L(2880,2,1677);L(2920,3,1643);L(2960,4,1811);L(3e3,5,1777);L(3120,8,1744);L(3160,9,1710);L(3200,6,1547);L(3240,7,2052)}function Xa(a){var b=0,c=0,d=0;a:{b:{c:{d:{b=a;if(!(b&3)){break d}c=0;if(!w[b|0]){break b}while(1){b=b+1|0;if(!(b&3)){break d}if(w[b|0]){continue}break}break c}while(1){c=b;b=b+4|0;d=v[c>>2];if(!((d^-1)&d-16843009&-2139062144)){continue}break}while(1){b=c;c=b+1|0;if(w[b|0]){continue}break}}c=b-a|0}e:{if(v[1127]<0){a=ya(a,c,4432);break e}a=ya(a,c,4432)}b=c;f:{if((c|0)==(a|0)){break f}b=a}if((((b|0)!=(c|0)?-1:0)|0)<0){break a}g:{if(v[1128]==10){break g}a=v[1113];if((a|0)==v[1112]){break g}v[1113]=a+1;t[a|0]=10;break a}b=da-16|0;da=b;t[b+15|0]=10;a=v[1112];h:{if(!a){if(Aa(4432)){break h}a=v[1112]}c=v[1113];if(!((a|0)==(c|0)|v[1128]==10)){v[1113]=c+1;t[c|0]=10;break h}if((fa[v[1117]](4432,b+15|0,1)|0)!=1){break h}}da=b+16|0}}function Ab(a,b,c){a=a|0;b=b|0;c=c|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;d=da-32|0;da=d;e=v[a+28>>2];v[d+16>>2]=e;f=v[a+20>>2];v[d+28>>2]=c;v[d+24>>2]=b;b=f-e|0;v[d+20>>2]=b;f=b+c|0;i=2;a:{b:{b=d+16|0;c:{d:{if(Pa(V(v[a+60>>2],b|0,2,d+12|0)|0)){e=b;break d}while(1){g=v[d+12>>2];if((g|0)==(f|0)){break c}if((g|0)<0){e=b;break b}h=v[b+4>>2];j=h>>>0<g>>>0;e=(j<<3)+b|0;h=g-(j?h:0)|0;v[e>>2]=h+v[e>>2];b=(j?12:4)+b|0;v[b>>2]=v[b>>2]-h;f=f-g|0;b=e;i=i-j|0;if(!Pa(V(v[a+60>>2],b|0,i|0,d+12|0)|0)){continue}break}}if((f|0)!=-1){break b}}b=v[a+44>>2];v[a+28>>2]=b;v[a+20>>2]=b;v[a+16>>2]=b+v[a+48>>2];a=c;break a}v[a+28>>2]=0;v[a+16>>2]=0;v[a+20>>2]=0;v[a>>2]=v[a>>2]|32;a=0;if((i|0)==2){break a}a=c-v[e+4>>2]|0}da=d+32|0;return a|0}function Ga(a,b){var c=0,d=0,e=0;c=da+-64|0;da=c;d=v[a>>2];e=v[d-4>>2];d=v[d-8>>2];v[c+32>>2]=0;v[c+36>>2]=0;v[c+40>>2]=0;v[c+44>>2]=0;v[c+48>>2]=0;v[c+52>>2]=0;t[c+55|0]=0;t[c+56|0]=0;t[c+57|0]=0;t[c+58|0]=0;t[c+59|0]=0;t[c+60|0]=0;t[c+61|0]=0;t[c+62|0]=0;v[c+24>>2]=0;v[c+28>>2]=0;v[c+20>>2]=0;v[c+16>>2]=3764;v[c+12>>2]=a;v[c+8>>2]=b;a=a+d|0;d=0;a:{if(ma(e,b,0)){v[c+56>>2]=1;fa[v[v[e>>2]+20>>2]](e,c+8|0,a,a,1,0);d=v[c+32>>2]==1?a:0;break a}fa[v[v[e>>2]+24>>2]](e,c+8|0,a,1,0);b:{switch(v[c+44>>2]){case 0:d=v[c+48>>2]==1?v[c+36>>2]==1?v[c+40>>2]==1?v[c+28>>2]:0:0:0;break a;case 1:break b;default:break a}}if(v[c+32>>2]!=1){if(v[c+48>>2]|v[c+36>>2]!=1|v[c+40>>2]!=1){break a}}d=v[c+24>>2]}da=c- -64|0;return d}function Va(a,b,c,d,e){var f=0,g=0,h=0,i=0;f=da-208|0;da=f;v[f+204>>2]=c;c=f+160|0;sa(c,0,40);v[f+200>>2]=v[f+204>>2];a:{if((Ua(0,b,f+200|0,f+80|0,c,d,e)|0)<0){e=-1;break a}i=v[a+76>>2]<0;g=v[a>>2];v[a>>2]=g&-33;b:{c:{d:{if(!v[a+48>>2]){v[a+48>>2]=80;v[a+28>>2]=0;v[a+16>>2]=0;v[a+20>>2]=0;h=v[a+44>>2];v[a+44>>2]=f;break d}if(v[a+16>>2]){break c}}c=-1;if(Aa(a)){break b}}c=Ua(a,b,f+200|0,f+80|0,f+160|0,d,e)}if(h){fa[v[a+36>>2]](a,0,0)|0;v[a+48>>2]=0;v[a+44>>2]=h;v[a+28>>2]=0;b=v[a+20>>2];v[a+16>>2]=0;v[a+20>>2]=0;c=b?c:-1}b=a;a=v[a>>2];v[b>>2]=a|g&32;e=a&32?-1:c;if(i){break a}}da=f+208|0;return e}function lb(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;if(ma(a,v[b+8>>2],e)){Da(b,c,d);return}a:{if(ma(a,v[b>>2],e)){if(!(v[b+16>>2]!=(c|0)&v[b+20>>2]!=(c|0))){if((d|0)!=1){break a}v[b+32>>2]=1;return}v[b+32>>2]=d;b:{if(v[b+44>>2]==4){break b}u[b+52>>1]=0;a=v[a+8>>2];fa[v[v[a>>2]+20>>2]](a,b,c,c,1,e);if(w[b+53|0]){v[b+44>>2]=3;if(!w[b+52|0]){break b}break a}v[b+44>>2]=4}v[b+20>>2]=c;v[b+40>>2]=v[b+40>>2]+1;if(v[b+36>>2]!=1|v[b+24>>2]!=2){break a}t[b+54|0]=1;return}a=v[a+8>>2];fa[v[v[a>>2]+24>>2]](a,b,c,d,e)}}function Oa(a,b){if(!a){return 0}a:{b:{if(a){if(b>>>0<=127){break b}c:{if(!v[v[1905]>>2]){if((b&-128)==57216){break b}break c}if(b>>>0<=2047){t[a+1|0]=b&63|128;t[a|0]=b>>>6|192;a=2;break a}if(!((b&-8192)!=57344&b>>>0>=55296)){t[a+2|0]=b&63|128;t[a|0]=b>>>12|224;t[a+1|0]=b>>>6&63|128;a=3;break a}if(b-65536>>>0<=1048575){t[a+3|0]=b&63|128;t[a|0]=b>>>18|240;t[a+2|0]=b>>>6&63|128;t[a+1|0]=b>>>12&63|128;a=4;break a}}v[1866]=25;a=-1}else{a=1}break a}t[a|0]=b;a=1}return a}function ta(a,b,c,d,e){var f=0,g=0,h=0,i=0,j=0,k=0;pa(a,b,e);j=(b|0)<(d|0)?1:-1;k=(a|0)<(c|0)?1:-1;h=c-a|0;f=h>>31;g=d-b|0;i=g>>31;a:{h=(f^h)-f|0;i=(i^g)-i|0;if(h>>>0>=i>>>0){d=h>>>1|0;f=0;while(1){if((a|0)==(c|0)){break a}a=a+k|0;f=f+i|0;g=(f|0)<(d|0);b=(g?0:j)+b|0;pa(a,b,e);f=f-(g?0:h)|0;continue}}c=i>>>1|0;f=0;while(1){if((b|0)==(d|0)){break a}f=f+h|0;g=(f|0)<(c|0);a=(g?0:k)+a|0;b=b+j|0;pa(a,b,e);f=f-(g?0:i)|0;continue}}}function ya(a,b,c){var d=0,e=0,f=0;d=v[c+16>>2];a:{if(!d){if(Aa(c)){break a}d=v[c+16>>2]}e=v[c+20>>2];if(d-e>>>0<b>>>0){return fa[v[c+36>>2]](c,a,b)|0}b:{c:{if(!b|v[c+80>>2]<0){break c}d=b;while(1){f=a+d|0;if(w[f-1|0]!=10){d=d-1|0;if(d){continue}break c}break}e=fa[v[c+36>>2]](c,a,d)|0;if(e>>>0<d>>>0){break a}b=b-d|0;e=v[c+20>>2];break b}f=a;d=0}za(e,f,b);v[c+20>>2]=v[c+20>>2]+b;e=b+d|0}return e}function qb(a){a=a|0;var b=0,c=0,d=0,e=0,f=0;if(a>>>0<8688&a>>>0>=8176){c=a;b=a-4|0;d=v[2041];e=d;a:{while(1){a=e;if(!(!a|(a|0)==8688)){if((Ja(a)|0)==(b|0)){u[a+2>>1]=x[c-2>>1]+x[a+2>>1];break a}if((Ja(b)|0)==(a|0)){c=c-2|0;u[c>>1]=x[a+2>>1]+x[c>>1];if(!f){v[2041]=b;u[b>>1]=x[a>>1];break a}u[f>>1]=va(b);break a}else{e=wa(x[a>>1]);f=a;continue}}break}u[b>>1]=va(d);v[2041]=b}return}ua(a)}function vb(a,b,c){a=a|0;b=b|0;c=c|0;var d=0,e=0,f=0,g=0,h=0;e=v[a+84>>2];f=v[e>>2];d=v[e+4>>2];h=v[a+28>>2];g=v[a+20>>2]-h|0;g=d>>>0<g>>>0?d:g;if(g){za(f,h,g);f=g+v[e>>2]|0;v[e>>2]=f;d=v[e+4>>2]-g|0;v[e+4>>2]=d}d=c>>>0>d>>>0?d:c;if(d){za(f,b,d);f=d+v[e>>2]|0;v[e>>2]=f;v[e+4>>2]=v[e+4>>2]-d}t[f|0]=0;b=v[a+44>>2];v[a+28>>2]=b;v[a+20>>2]=b;return c|0}function Ea(a,b,c,d){t[a+53|0]=1;a:{if(v[a+4>>2]!=(c|0)){break a}t[a+52|0]=1;c=v[a+16>>2];b:{if(!c){v[a+36>>2]=1;v[a+24>>2]=d;v[a+16>>2]=b;if((d|0)!=1){break a}if(v[a+48>>2]==1){break b}break a}if((b|0)==(c|0)){c=v[a+24>>2];if((c|0)==2){v[a+24>>2]=d;c=d}if(v[a+48>>2]!=1){break a}if((c|0)==1){break b}break a}v[a+36>>2]=v[a+36>>2]+1}t[a+54|0]=1}}function ob(a,b,c){a=a|0;b=b|0;c=c|0;var d=0,e=0;d=da+-64|0;da=d;e=1;a:{if(ma(a,b,0)){break a}e=0;if(!b){break a}b=Ga(b,3812);e=0;if(!b){break a}sa(d+12|0,0,52);v[d+56>>2]=1;v[d+20>>2]=-1;v[d+16>>2]=a;v[d+8>>2]=b;fa[v[v[b>>2]+28>>2]](b,d+8|0,v[c>>2],1);a=v[d+32>>2];if((a|0)==1){v[c>>2]=v[d+24>>2]}e=(a|0)==1}a=e;da=d- -64|0;return a|0}function kb(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;if(ma(a,v[b+8>>2],e)){Da(b,c,d);return}a:{if(!ma(a,v[b>>2],e)){break a}if(!(v[b+16>>2]!=(c|0)&v[b+20>>2]!=(c|0))){if((d|0)!=1){break a}v[b+32>>2]=1;return}v[b+20>>2]=c;v[b+32>>2]=d;v[b+40>>2]=v[b+40>>2]+1;if(!(v[b+36>>2]!=1|v[b+24>>2]!=2)){t[b+54|0]=1}v[b+44>>2]=4}}function Qa(a,b,c){var d=0,e=0,f=0;d=da-160|0;da=d;e=b?a:d+158|0;v[d+148>>2]=e;a=-1;f=b-1|0;v[d+152>>2]=b>>>0>=f>>>0?f:0;d=sa(d,0,144);v[d+76>>2]=-1;v[d+36>>2]=7;v[d+80>>2]=-1;v[d+44>>2]=d+159;v[d+84>>2]=d+148;a:{if((b|0)<0){v[1866]=61;break a}t[e|0]=0;a=Va(d,1327,c,5,6)}da=d+160|0;return a}function ma(a,b,c){var d=0;if(!c){return v[a+4>>2]==v[b+4>>2]}if((a|0)==(b|0)){return 1}c=v[a+4>>2];a=w[c|0];b=v[b+4>>2];d=w[b|0];a:{if(!a|(d|0)!=(a|0)){break a}while(1){d=w[b+1|0];a=w[c+1|0];if(!a){break a}b=b+1|0;c=c+1|0;if((a|0)==(d|0)){continue}break}}return(a|0)==(d|0)}function Wa(a,b){var c=0,d=0,e=0;o(+a);d=j(1)|0;e=j(0)|0;c=d>>>20&2047;if((c|0)!=2047){if(!c){if(a==0){c=0}else{a=Wa(a*0x10000000000000000,b);c=v[b>>2]+-64|0}v[b>>2]=c;return a}v[b>>2]=c-1022;l(0,e|0);l(1,d&-2146435073|1071644672);a=+n()}return a}function Ka(){var a=0;a=v[1145];v[2038]=0;_(a|0);a=v[2038];v[2038]=0;a:{if((a|0)!=1){v[2038]=0;T(12,1287,0);a=v[2038];v[2038]=0;if((a|0)!=1){break a}}$(P(0)|0)|0;v[2038]=0;T(12,1127,0);a=v[2038];v[2038]=0;if((a|0)!=1){break a}P(0)|0;Ka()}p()}function oa(a,b,c){var d=0,e=0;if(b){while(1){c=c-1|0;e=a;a=Eb(a,b,10);d=ea;t[c|0]=e-Db(a,d,10)|48;e=b>>>0>9;b=d;if(e){continue}break}}if(a){while(1){c=c-1|0;b=(a>>>0)/10|0;t[c|0]=a-B(b,10)|48;d=a>>>0>9;a=b;if(d){continue}break}}return c}function Ta(a){var b=0,c=0,d=0;if(!ra(t[v[a>>2]])){return 0}while(1){d=v[a>>2];c=-1;if(b>>>0<=214748364){c=t[d|0]-48|0;b=B(b,10);c=(b^2147483647)<(c|0)?-1:c+b|0}v[a>>2]=d+1;b=c;if(ra(t[d+1|0])){continue}break}return b}function Fa(a,b,c){var d=0;d=v[a+16>>2];if(!d){v[a+36>>2]=1;v[a+24>>2]=c;v[a+16>>2]=b;return}a:{if((b|0)==(d|0)){if(v[a+24>>2]!=2){break a}v[a+24>>2]=c;return}t[a+54|0]=1;v[a+24>>2]=2;v[a+36>>2]=v[a+36>>2]+1}}function la(a,b,c,d,e){var f=0;f=da-256|0;da=f;if(!(e&73728|(c|0)<=(d|0))){d=c-d|0;c=d>>>0<256;sa(f,b&255,c?d:256);if(!c){while(1){ka(a,f,256);d=d-256|0;if(d>>>0>255){continue}break}}ka(a,f,d)}da=f+256|0}function Db(a,b,c){var d=0,e=0,f=0,g=0,h=0;e=c>>>16|0;d=a>>>16|0;h=B(e,d);f=c&65535;a=a&65535;g=B(f,a);d=(g>>>16|0)+B(d,f)|0;a=(d&65535)+B(a,e)|0;ea=h+B(b,c)+(d>>>16)+(a>>>16)|0;return g&65535|a<<16}function Aa(a){var b=0;b=v[a+72>>2];v[a+72>>2]=b-1|b;b=v[a>>2];if(b&8){v[a>>2]=b|32;return-1}v[a+4>>2]=0;v[a+8>>2]=0;b=v[a+44>>2];v[a+28>>2]=b;v[a+20>>2]=b;v[a+16>>2]=b+v[a+48>>2];return 0}function na(a){var b=0,c=0;b=v[1144];c=a+7&-8;a=b+c|0;a:{if(a>>>0<=b>>>0?c:0){break a}if(a>>>0>ga()<<16>>>0){if(!(ca(a|0)|0)){break a}}v[1144]=a;return b}v[1866]=48;return-1}function hb(a,b,c){a=a|0;b=b|0;c=c|0;var d=0;d=da-16|0;da=d;v[d+12>>2]=v[c>>2];a=fa[v[v[a>>2]+16>>2]](a,b,d+12|0)|0;if(a){v[c>>2]=v[d+12>>2]}da=d+16|0;return a|0}function jb(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;if(ma(a,v[b+8>>2],f)){Ea(b,c,d,e);return}a=v[a+8>>2];fa[v[v[a>>2]+20>>2]](a,b,c,d,e,f)}function mb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;if(ma(a,v[b+8>>2],0)){Fa(b,c,d);return}a=v[a+8>>2];fa[v[v[a>>2]+28>>2]](a,b,c,d)}function Sa(a,b,c){var d=0;d=(b|0)<(c|0)?b:c;b=(b|0)>(c|0)?b:c;while(1){if((b|0)>=(d|0)){pa(a,d,2016);d=d+1|0;continue}break}}function Ca(a,b){a=a|0;b=b|0;var c=0;c=da-16|0;da=c;v[c+4>>2]=b;v[c>>2]=a;Za(2292,c);da=c+16|0;return a+b|0}function pa(a,b,c){var d=0;d=da-16|0;da=d;v[d+8>>2]=c;v[d+4>>2]=b;v[d>>2]=a;N(6198,2326,d|0)|0;da=d+16|0}function sa(a,b,c){var d=0;if(c){d=a;while(1){t[d|0]=b;d=d+1|0;c=c-1|0;if(c){continue}break}}return a}function Na(){var a=0;a=da-16|0;da=a;Q(2187);Q(2093);Xa(1366);v[a>>2]=42;N(5954,2305,a|0)|0;da=a+16|0}function ib(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;if(ma(a,v[b+8>>2],f)){Ea(b,c,d,e)}}function Bb(){var a=0;a=v[1604];if(a){while(1){fa[v[a>>2]]();a=v[a+4>>2];if(a){continue}break}}}function za(a,b,c){if(c){while(1){t[a|0]=w[b|0];a=a+1|0;b=b+1|0;c=c-1|0;if(c){continue}break}}}function $a(){v[1605]=1;v[1606]=0;_a();v[1606]=v[1604];v[1604]=6420;v[1905]=7500;v[1887]=42}function Za(a,b){var c=0;c=da-16|0;da=c;v[c+12>>2]=b;Va(4432,a,b,0,0);da=c+16|0}function nb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;if(ma(a,v[b+8>>2],0)){Fa(b,c,d)}}function Fb(a){var b=0;b=a&31;a=0-a&31;return(-1>>>b&-2)<<b|(-1<<a&-2)>>>a}
function Da(a,b,c){if(!(v[a+28>>2]==1|v[a+4>>2]!=(b|0))){v[a+28>>2]=c}}function ub(a,b){a=a|0;b=b|0;if(!v[2038]){v[2038]=a;v[2039]=b}}function gb(a){a=a|0;if(!a){return 0}return(Ga(a,3908)|0)!=0|0}function yb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;ea=0;return 0}function pb(a,b,c){a=a|0;b=b|0;c=c|0;return ma(a,b,0)|0}function tb(a){a=a|0;if(a){a=a-24|0;v[a>>2]=v[a>>2]+1}}function Cb(a){if(a){return 31-E(a-1^a)|0}return 32}function Pa(a){if(!a){return 0}v[1866]=a;return-1}function bb(a){a=a|0;a=da-a&-16;da=a;return a|0}function La(){Q(2242);Xa(1384);N(6082,2307,0)|0}function ka(a,b,c){if(!(w[a|0]&32)){ya(b,c,a)}}function Ba(a,b,c,d){Z(a|0,b|0,8,0,c|0,-1,d|0)}function Ja(a){return(x[a+2>>1]<<2)+a|0}function va(a){return a-8176>>>2&65535}function sb(a,b){a=a|0;b=b|0;U();p()}function wa(a){return(a<<2)+8176|0}function ra(a){return a-48>>>0<10}function fb(a){a=a|0;return 1112}function eb(a){a=a|0;return 1340}function Ia(a){a=a|0;return a|0}function Ha(){N(4825,2307,0)|0}function zb(a){a=a|0;return 0}function qa(a){a=a|0;ua(a)}function db(){return da|0}function cb(a){a=a|0;da=a}function Ya(a){a=a|0}
// EMSCRIPTEN_END_FUNCS
e=w;var fa=c([null,_a,zb,Ab,yb,xb,wb,vb,Ia,rb,qb,U,sb,Ia,qa,Ya,Ya,pb,qa,ob,ib,kb,nb,qa,jb,lb,mb,qa,eb,qa,fb]);function ga(){return s.byteLength/65536|0}return{"v":$a,"w":Na,"x":La,"y":Ca,"z":ab,"A":fa,"B":Bb,"C":xa,"D":ua,"E":ub,"F":Ya,"G":db,"H":cb,"I":bb,"J":tb,"K":hb,"L":gb}}return ha(ja)}
// EMSCRIPTEN_END_ASM


)(info)},instantiate:function(binary,info){return{then:function(ok){var module=new WebAssembly.Module(binary);ok({"instance":new WebAssembly.Instance(module,info)})}}},RuntimeError:Error};wasmBinary=[];if(typeof WebAssembly!="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(text)}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b)}var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||16777216;assert(INITIAL_MEMORY>=65536,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+INITIAL_MEMORY+"! (STACK_SIZE="+65536+")");if(Module["wasmMemory"]){wasmMemory=Module["wasmMemory"]}else{wasmMemory=new WebAssembly.Memory({"initial":INITIAL_MEMORY/65536,"maximum":16777216/65536})}updateMemoryViews();INITIAL_MEMORY=wasmMemory.buffer.byteLength;var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;what+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix="data:application/octet-stream;base64,";var isDataURI=filename=>filename.startsWith(dataURIPrefix);var wasmBinaryFile;if(Module["locateFile"]){wasmBinaryFile="hello.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}}else{wasmBinaryFile=new URL("hello.wasm",import.meta.url).href}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(response=>{if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'"}return response["arrayBuffer"]()}).catch(()=>getBinarySync(binaryFile))}}return Promise.resolve().then(()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>WebAssembly.instantiate(binary,imports)).then(instance=>instance).then(receiver,reason=>{err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(response=>{var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback)})})}return instantiateArrayBuffer(binaryFile,imports,callback)}function createWasm(){var info={"a":wasmImports};function receiveInstance(instance,module){wasmExports=instance.exports;runMemoryInitializer();wasmTable=wasmExports["A"];addOnInit(wasmExports["v"]);removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){receiveInstance(result["instance"])}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){err(`Module.instantiateWasm callback failed with error: ${e}`);readyPromiseReject(e)}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult).catch(readyPromiseReject);return{}}var memoryInitializer="hello.js.mem";function runMemoryInitializer(){if(!isDataURI(memoryInitializer)){memoryInitializer=locateFile(memoryInitializer)}if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=readBinary(memoryInitializer);HEAPU8.set(data,1024)}else{addRunDependency("memory initializer");var applyMemoryInitializer=data=>{if(data.byteLength)data=new Uint8Array(data);HEAPU8.set(data,1024);if(Module["memoryInitializerRequest"])delete Module["memoryInitializerRequest"].response;removeRunDependency("memory initializer")};var doBrowserLoad=()=>{readAsync(memoryInitializer,applyMemoryInitializer,()=>{var e=new Error("could not load memory initializer "+memoryInitializer);readyPromiseReject(e)})};if(Module["memoryInitializerRequest"]){var useRequest=()=>{var request=Module["memoryInitializerRequest"];var response=request.response;if(request.status!==200&&request.status!==0){console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer);doBrowserLoad();return}applyMemoryInitializer(response)};if(Module["memoryInitializerRequest"].response){setTimeout(useRequest,0)}else{Module["memoryInitializerRequest"].addEventListener("load",useRequest)}}else{doBrowserLoad()}}}var ASM_CONSTS={4584:$0=>{const size=Module.width*Module.height;var vramArray=new Uint16Array(Module.vram.buffer,0,size);vramArray.fill($0);document.dispatchEvent(new CustomEvent("onCall",{detail:{function:"fillScreen",args:{color:$0}}}))},4825:()=>{document.dispatchEvent(new CustomEvent("onCall",{detail:{function:"LCD_Refresh",args:{}}}))},4931:($0,$1)=>{Module.cursor=Module.cursor||{};setValue($0,Module.cursor.x||0);setValue($1,Module.cursor.y||0)},5044:($0,$1,$2,$3)=>{var msg=Module.UTF8ToString($0);var x=$1;var y=$2;var invert=$3;Module.debug.drawText(msg,x,y,invert,1);console.log(msg)},5206:($0,$1,$2,$3,$4)=>{console.log("Debug_Printf - EM_ASM",$0,$1,$2,$3,Module.UTF8ToString($4));document.dispatchEvent(new CustomEvent("onCall",{detail:{function:"Debug_Printf",args:{x:$0,y:$1,invert:$2,zero:$3,output:Module.UTF8ToString($4)}}}))},5461:($0,$1)=>{Module.cursor=Module.cursor||{};const msg=Module.UTF8ToString($0);const invert=$1;const x=Module.cursor.x||0;const y=Module.cursor.y||0;const scale=2;Module.debug.drawText(msg,x,y,invert,scale);document.dispatchEvent(new CustomEvent("onCall",{detail:{function:"Debug_PrintString",args:{string:Module.UTF8ToString($0),invert:$1}}}))},5841:($0,$1)=>{Module.cursor=Module.cursor||{};Module.cursor.x=$0;Module.cursor.y=$1;console.log(Module.cursor)},5954:$0=>{console.log("calcInit - EM_ASM",$0);document.dispatchEvent(new CustomEvent("calcInit",{detail:`test EM_ASM ${$0}`}))},6082:()=>{console.log("calcEnd - EM_ASM");document.dispatchEvent(new CustomEvent("calcEnd",{detail:`test EM_ASM`}))},6198:($0,$1,$2)=>{var x=$0;var y=$1;var color=$2;var width=Module.width;var height=Module.height;if(x>=0&&x<width&&y>=0&&y<height){var index=y*width+x;Module.vram[index]=color}}};var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var wasmTable;var getWasmTableEntry=funcPtr=>wasmTable.get(funcPtr);var noExitRuntime=Module["noExitRuntime"]||true;function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;case"*":HEAPU32[ptr>>2]=value;break;default:abort(`invalid type for setValue: ${type}`)}}var exceptionCaught=[];var uncaughtExceptionCount=0;var ___cxa_begin_catch=ptr=>{var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr()};var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type};this.get_type=function(){return HEAPU32[this.ptr+4>>2]};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor)};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr}}var findMatchingCatch=args=>{var thrown=exceptionLast;if(!thrown){setTempRet0(0);return 0}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown}}setTempRet0(thrownType);return thrown};var ___cxa_find_matching_catch_3=arg0=>findMatchingCatch([arg0]);var ___cxa_throw=(ptr,type,destructor)=>{var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw exceptionLast};var __embind_register_bigint=(primitiveType,name,size,minRange,maxRange)=>{};var embind_init_charCodes=()=>{var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes};var embind_charCodes;var readLatin1String=ptr=>{var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret};var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError;var throwBindingError=message=>{throw new BindingError(message)};var InternalError;function sharedRegisterType(rawType,registeredInstance,options={}){var name=registeredInstance.name;if(!rawType){throwBindingError(`type "${name}" must have a positive integer typeid pointer`)}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError(`Cannot register type '${name}' twice`)}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(cb=>cb())}}function registerType(rawType,registeredInstance,options={}){if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance")}return sharedRegisterType(rawType,registeredInstance,options)}var GenericWireTypeSize=8;var __embind_register_bool=(rawType,name,trueValue,falseValue)=>{name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function(wt){return!!wt},"toWireType":function(destructors,o){return o?trueValue:falseValue},"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":function(pointer){return this["fromWireType"](HEAPU8[pointer])},destructorFunction:null})};function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get(id){return this.allocated[id]},has(id){return this.allocated[id]!==undefined},allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id},free(id){this.allocated[id]=undefined;this.freelist.push(id)}})}function HandleAllocator(){this.allocated=[undefined];this.freelist=[]}var emval_handles=new HandleAllocator;var __emval_decref=handle=>{if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle)}};var count_emval_handles=()=>{var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count}}return count};var init_emval=()=>{emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles};var Emval={toValue:handle=>{if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle)}return emval_handles.get(handle).value},toHandle:value=>{switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value})}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2])}var __embind_register_emval=(rawType,name)=>{name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":handle=>{var rv=Emval.toValue(handle);__emval_decref(handle);return rv},"toWireType":(destructors,value)=>Emval.toHandle(value),"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null})};var floatReadValueFromPointer=(name,width)=>{switch(width){case 4:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2])};case 8:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3])};default:throw new TypeError(`invalid float width (${width}): ${name}`)}};var __embind_register_float=(rawType,name,size)=>{name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":value=>value,"toWireType":(destructors,value)=>value,"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":floatReadValueFromPointer(name,size),destructorFunction:null})};var integerReadValueFromPointer=(name,width,signed)=>{switch(width){case 1:return signed?pointer=>HEAP8[pointer>>0]:pointer=>HEAPU8[pointer>>0];case 2:return signed?pointer=>HEAP16[pointer>>1]:pointer=>HEAPU16[pointer>>1];case 4:return signed?pointer=>HEAP32[pointer>>2]:pointer=>HEAPU32[pointer>>2];default:throw new TypeError(`invalid integer width (${width}): ${name}`)}};var __embind_register_integer=(primitiveType,name,size,minRange,maxRange)=>{name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var fromWireType=value=>value;if(minRange===0){var bitshift=32-8*size;fromWireType=value=>value<<bitshift>>>bitshift}var isUnsignedType=name.includes("unsigned");var checkAssertions=(value,toTypeName)=>{};var toWireType;if(isUnsignedType){toWireType=function(destructors,value){checkAssertions(value,this.name);return value>>>0}}else{toWireType=function(destructors,value){checkAssertions(value,this.name);return value}}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":integerReadValueFromPointer(name,size,minRange!==0),destructorFunction:null})};var __embind_register_memory_view=(rawType,dataTypeIndex,name)=>{var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){var size=HEAPU32[handle>>2];var data=HEAPU32[handle+4>>2];return new TA(HEAP8.buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true})};function readPointer(pointer){return this["fromWireType"](HEAPU32[pointer>>2])}var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";var __embind_register_std_string=(rawType,name)=>{name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType"(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i])}str=a.join("")}_free(value);return str},"toWireType"(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string")}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value)}else{length=value.length}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits")}HEAPU8[ptr+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i]}}}if(destructors!==null){destructors.push(_free,base)}return base},"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":readPointer,destructorFunction(ptr){_free(ptr)}})};var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=(ptr,maxBytesToRead)=>{var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str};var stringToUTF16=(str,outPtr,maxBytesToWrite)=>{if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr};var lengthBytesUTF16=str=>str.length*2;var UTF32ToString=(ptr,maxBytesToRead)=>{var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str};var stringToUTF32=(str,outPtr,maxBytesToWrite)=>{if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr};var lengthBytesUTF32=str=>{var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len};var __embind_register_std_wstring=(rawType,charSize,name)=>{name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=()=>HEAPU16;shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=()=>HEAPU32;shift=2}registerType(rawType,{name:name,"fromWireType":value=>{var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},"toWireType":(destructors,value)=>{if(!(typeof value=="string")){throwBindingError(`Cannot pass non-string to C++ string type ${name}`)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},"argPackAdvance":GenericWireTypeSize,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction(ptr){_free(ptr)}})};var __embind_register_void=(rawType,name)=>{name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":()=>undefined,"toWireType":(destructors,o)=>undefined})};var _abort=()=>{abort("")};var readEmAsmArgsArray=[];var readEmAsmArgs=(sigPtr,buf)=>{readEmAsmArgsArray.length=0;var ch;while(ch=HEAPU8[sigPtr++]){var wide=ch!=105;wide&=ch!=112;buf+=wide&&buf%8?4:0;readEmAsmArgsArray.push(ch==112?HEAPU32[buf>>2]:ch==105?HEAP32[buf>>2]:HEAPF64[buf>>3]);buf+=wide?8:4}return readEmAsmArgsArray};var runEmAsmFunction=(code,sigPtr,argbuf)=>{var args=readEmAsmArgs(sigPtr,argbuf);return ASM_CONSTS[code].apply(null,args)};var _emscripten_asm_const_int=(code,sigPtr,argbuf)=>runEmAsmFunction(code,sigPtr,argbuf);var getHeapMax=()=>16777216;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}var alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};var _emscripten_run_script=ptr=>{eval(UTF8ToString(ptr))};var printCharBuffers=[null,[],[]];var printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}};var SYSCALLS={varargs:undefined,get(){var ret=HEAP32[+SYSCALLS.varargs>>2];SYSCALLS.varargs+=4;return ret},getp(){return SYSCALLS.get()},getStr(ptr){var ret=UTF8ToString(ptr);return ret}};var _fd_write=(fd,iov,iovcnt,pnum)=>{var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j])}num+=len}HEAPU32[pnum>>2]=num;return 0};var getCFunc=ident=>{var func=Module["_"+ident];return func};var writeArrayToMemory=(array,buffer)=>{HEAP8.set(array,buffer)};var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={"string":str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},"array":arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}ret=onDone(ret);return ret};var cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>type==="number"||type==="boolean");var numericRet=returnType!=="string";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}};embind_init_charCodes();BindingError=Module["BindingError"]=class BindingError extends Error{constructor(message){super(message);this.name="BindingError"}};InternalError=Module["InternalError"]=class InternalError extends Error{constructor(message){super(message);this.name="InternalError"}};handleAllocatorInit();init_emval();var wasmImports={r:___cxa_begin_catch,f:___cxa_find_matching_catch_3,t:___cxa_throw,p:__embind_register_bigint,n:__embind_register_bool,m:__embind_register_emval,i:__embind_register_float,c:__embind_register_integer,b:__embind_register_memory_view,h:__embind_register_std_string,e:__embind_register_std_wstring,o:__embind_register_void,k:_abort,d:_emscripten_asm_const_int,u:_emscripten_resize_heap,g:_emscripten_run_script,l:_fd_write,s:invoke_ii,q:invoke_v,j:invoke_vii,a:wasmMemory};var wasmExports=createWasm();var ___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports["v"])();var __Z8calcInitv=Module["__Z8calcInitv"]=()=>(__Z8calcInitv=Module["__Z8calcInitv"]=wasmExports["w"])();var __Z7calcEndv=Module["__Z7calcEndv"]=()=>(__Z7calcEndv=Module["__Z7calcEndv"]=wasmExports["x"])();var _add=Module["_add"]=(a0,a1)=>(_add=Module["_add"]=wasmExports["y"])(a0,a1);var _runMain=Module["_runMain"]=()=>(_runMain=Module["_runMain"]=wasmExports["z"])();var ___getTypeName=a0=>(___getTypeName=wasmExports["__getTypeName"])(a0);var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=()=>(__embind_initialize_bindings=Module["__embind_initialize_bindings"]=wasmExports["B"])();var ___errno_location=()=>(___errno_location=wasmExports["__errno_location"])();var _malloc=Module["_malloc"]=a0=>(_malloc=Module["_malloc"]=wasmExports["C"])(a0);var _free=Module["_free"]=a0=>(_free=Module["_free"]=wasmExports["D"])(a0);var _setThrew=(a0,a1)=>(_setThrew=wasmExports["E"])(a0,a1);var setTempRet0=a0=>(setTempRet0=wasmExports["F"])(a0);var stackSave=()=>(stackSave=wasmExports["G"])();var stackRestore=a0=>(stackRestore=wasmExports["H"])(a0);var stackAlloc=a0=>(stackAlloc=wasmExports["I"])(a0);var ___cxa_free_exception=a0=>(___cxa_free_exception=wasmExports["__cxa_free_exception"])(a0);var ___cxa_increment_exception_refcount=a0=>(___cxa_increment_exception_refcount=wasmExports["J"])(a0);var ___cxa_decrement_exception_refcount=a0=>(___cxa_decrement_exception_refcount=wasmExports["__cxa_decrement_exception_refcount"])(a0);var ___cxa_can_catch=(a0,a1,a2)=>(___cxa_can_catch=wasmExports["K"])(a0,a1,a2);var ___cxa_is_pointer_type=a0=>(___cxa_is_pointer_type=wasmExports["L"])(a0);function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1)}catch(e){stackRestore(sp);if(e!==e+0)throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)()}catch(e){stackRestore(sp);if(e!==e+0)throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2)}catch(e){stackRestore(sp);if(e!==e+0)throw e;_setThrew(1,0)}}Module["run"]=run;Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["UTF8ToString"]=UTF8ToString;var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(){if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}run();function drawText(msg,x,y,invert=false,scale=1){x=x*6;y=y*12;const pre_color=invert?0:65535;for(var row=0;row<12*scale;row++){for(var col=0;col<1*scale;col++){var index=(y*scale+row)*Module.width+x*scale+col;Module.vram[index]=pre_color}}for(var i=0;i<msg.length;i++){var letter=globalThis?.fonts?.getLetter(msg.charAt(i));if(letter){for(var row=0;row<12*scale;row++){for(var col=0;col<6*scale;col++){var pixelValue=Math.floor(col/scale)==5?0:letter[Math.floor(row/scale)*5+Math.floor(col/scale)];var color=invert?pixelValue?65535:0:pixelValue?0:65535;var index=(y*scale+row)*Module.width+((x+1)*scale+col+i*scale*6);Module.vram[index]=color}}}}for(var row=0;row<12*scale;row++){for(var col=0;col<1*scale;col++){var index=(y*scale+row)*Module.width+(x*scale+1*scale+msg.length*6*scale+col);Module.vram[index]=pre_color}}}Module["onRuntimeInitialized"]=function(){document.dispatchEvent(new Event("emReady"));Module["add"]=cwrap("add","number",["number","number"]);Module["Debug_printf"]=cwrap("Debug_printf",null,["number","number","string"])};Module["debug"]=Module["debug"]||{};Module["debug"]["drawText"]=drawText;


  return moduleArg.ready
}

);
})();
export default Module;